EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:NorBot
LIBS:Ghost-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 3
Title "Ghost - Folkracer"
Date "2016-05-27"
Rev ""
Comp ""
Comment1 "Frode Lillerud"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 4850 6150 1300 900 
U 5748AB6A
F0 "FreeIMU" 60
F1 "FreeIMU.sch" 60
F2 "VCC" I L 4850 6300 60 
F3 "INT" I L 4850 6750 60 
F4 "FSYNC" I L 4850 6900 60 
F5 "GND" I R 6150 6900 60 
F6 "DRDY" I R 6150 6300 60 
F7 "SCL" I L 4850 6600 60 
F8 "SDA" I L 4850 6450 60 
$EndSheet
Text Notes 4900 800  0    197  ~ 39
GHOST (rev 2)
$Comp
L C C1
U 1 1 5748AC15
P 4550 2150
F 0 "C1" H 4575 2250 50  0000 L CNN
F 1 "0.1-1uF" H 4575 2050 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 4588 2000 50  0001 C CNN
F 3 "" H 4550 2150 50  0000 C CNN
	1    4550 2150
	1    0    0    -1  
$EndComp
$Sheet
S 9900 5200 800  800 
U 5748ACD3
F0 "IRSensors" 60
F1 "IRSensors.sch" 60
F2 "VCC" I L 9900 5350 60 
F3 "SDA" I L 9900 5500 60 
F4 "SCL" I L 9900 5650 60 
F5 "GND" I L 9900 5800 60 
$EndSheet
Text Notes 5100 1450 0    60   ~ 0
Current sensor - INA219BIDR\nFarnell: 2496402\nI2C addr: 0x40
$Comp
L GND #PWR01
U 1 1 5748CCB8
P 4950 2450
F 0 "#PWR01" H 4950 2200 50  0001 C CNN
F 1 "GND" H 4950 2300 50  0000 C CNN
F 2 "" H 4950 2450 50  0000 C CNN
F 3 "" H 4950 2450 50  0000 C CNN
	1    4950 2450
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR02
U 1 1 5748CF6D
P 6450 1900
F 0 "#PWR02" H 6450 1750 50  0001 C CNN
F 1 "+5V" H 6450 2040 50  0000 C CNN
F 2 "" H 6450 1900 50  0000 C CNN
F 3 "" H 6450 1900 50  0000 C CNN
	1    6450 1900
	0    1    1    0   
$EndComp
$Comp
L +BATT #PWR03
U 1 1 5748CFFD
P 4400 1900
F 0 "#PWR03" H 4400 1750 50  0001 C CNN
F 1 "+BATT" H 4400 2040 50  0000 C CNN
F 2 "" H 4400 1900 50  0000 C CNN
F 3 "" H 4400 1900 50  0000 C CNN
	1    4400 1900
	0    -1   -1   0   
$EndComp
Text GLabel 6300 2200 2    60   Input ~ 0
TEENSY_SDA
Text GLabel 6300 2300 2    60   Input ~ 0
TEENSY_SCL
$Comp
L MIC5219-3.3YM5 U3
U 1 1 5748D328
P 9450 1850
F 0 "U3" H 9450 2250 60  0000 C CNN
F 1 "MIC5219-3.3YM5" H 9500 1450 60  0000 C CNN
F 2 "TO_SOT_Packages_SMD:SOT-23-5" H 9450 1850 60  0001 C CNN
F 3 "" H 9450 1850 60  0000 C CNN
	1    9450 1850
	1    0    0    -1  
$EndComp
Text Notes 8550 1350 0    60   ~ 0
MIC5219 3.3V LDO regulator (max 500mA out)
$Comp
L +5V #PWR04
U 1 1 5748D426
P 8800 1650
F 0 "#PWR04" H 8800 1500 50  0001 C CNN
F 1 "+5V" H 8800 1790 50  0000 C CNN
F 2 "" H 8800 1650 50  0000 C CNN
F 3 "" H 8800 1650 50  0000 C CNN
	1    8800 1650
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR05
U 1 1 5748D489
P 8800 1850
F 0 "#PWR05" H 8800 1600 50  0001 C CNN
F 1 "GND" H 8800 1700 50  0000 C CNN
F 2 "" H 8800 1850 50  0000 C CNN
F 3 "" H 8800 1850 50  0000 C CNN
	1    8800 1850
	0    1    1    0   
$EndComp
$Comp
L C C2
U 1 1 5748D808
P 10100 2200
F 0 "C2" H 10125 2300 50  0000 L CNN
F 1 "470pF" H 10125 2100 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 10138 2050 50  0001 C CNN
F 3 "" H 10100 2200 50  0000 C CNN
	1    10100 2200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR06
U 1 1 5748D8E8
P 10100 2500
F 0 "#PWR06" H 10100 2250 50  0001 C CNN
F 1 "GND" H 10100 2350 50  0000 C CNN
F 2 "" H 10100 2500 50  0000 C CNN
F 3 "" H 10100 2500 50  0000 C CNN
	1    10100 2500
	1    0    0    -1  
$EndComp
$Comp
L C C3
U 1 1 5748DBA2
P 10500 1950
F 0 "C3" H 10525 2050 50  0000 L CNN
F 1 "2.2uF" H 10525 1850 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 10538 1800 50  0001 C CNN
F 3 "" H 10500 1950 50  0000 C CNN
	1    10500 1950
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR07
U 1 1 5748DE93
P 10650 1650
F 0 "#PWR07" H 10650 1500 50  0001 C CNN
F 1 "+3.3V" H 10650 1790 50  0000 C CNN
F 2 "" H 10650 1650 50  0000 C CNN
F 3 "" H 10650 1650 50  0000 C CNN
	1    10650 1650
	1    0    0    -1  
$EndComp
$Comp
L R R1
U 1 1 5748E603
P 5600 1650
F 0 "R1" V 5680 1650 50  0000 C CNN
F 1 "0.1ohm" V 5500 1650 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 5530 1650 50  0001 C CNN
F 3 "" H 5600 1650 50  0000 C CNN
	1    5600 1650
	0    1    1    0   
$EndComp
$Comp
L PWR_FLAG #FLG08
U 1 1 5748EC4E
P 1750 1600
F 0 "#FLG08" H 1750 1695 50  0001 C CNN
F 1 "PWR_FLAG" H 1750 1780 50  0000 C CNN
F 2 "" H 1750 1600 50  0000 C CNN
F 3 "" H 1750 1600 50  0000 C CNN
	1    1750 1600
	-1   0    0    1   
$EndComp
Wire Wire Line
	8800 1850 8950 1850
Wire Wire Line
	8800 1650 8850 1650
Wire Wire Line
	8850 1650 8950 1650
Wire Wire Line
	8950 2050 8850 2050
Wire Wire Line
	8850 2050 8850 1650
Connection ~ 8850 1650
Wire Wire Line
	10100 2350 10100 2500
Wire Wire Line
	10500 2100 10500 2150
Wire Wire Line
	9950 2050 10100 2050
Wire Wire Line
	10500 1800 10500 1650
Wire Wire Line
	9950 1650 10500 1650
Wire Wire Line
	10500 1650 10650 1650
Connection ~ 10500 1650
$Comp
L +3.3V #PWR010
U 1 1 574A315F
P 9650 5300
F 0 "#PWR010" H 9650 5150 50  0001 C CNN
F 1 "+3.3V" H 9650 5440 50  0000 C CNN
F 2 "" H 9650 5300 50  0000 C CNN
F 3 "" H 9650 5300 50  0000 C CNN
	1    9650 5300
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR011
U 1 1 574A31B2
P 9650 5800
F 0 "#PWR011" H 9650 5550 50  0001 C CNN
F 1 "GND" H 9650 5650 50  0000 C CNN
F 2 "" H 9650 5800 50  0000 C CNN
F 3 "" H 9650 5800 50  0000 C CNN
	1    9650 5800
	1    0    0    -1  
$EndComp
Wire Wire Line
	9900 5350 9650 5350
Wire Wire Line
	9650 5350 9650 5300
Wire Wire Line
	9650 5500 9900 5500
Wire Wire Line
	9900 5650 9650 5650
Wire Wire Line
	9650 5800 9900 5800
$Comp
L +3.3V #PWR021
U 1 1 574CA1FE
P 4500 6200
F 0 "#PWR021" H 4500 6050 50  0001 C CNN
F 1 "+3.3V" H 4500 6340 50  0000 C CNN
F 2 "" H 4500 6200 50  0000 C CNN
F 3 "" H 4500 6200 50  0000 C CNN
	1    4500 6200
	1    0    0    -1  
$EndComp
Wire Wire Line
	4850 6300 4500 6300
Wire Wire Line
	4500 6300 4500 6200
$Comp
L GND #PWR022
U 1 1 574CA30A
P 6550 7000
F 0 "#PWR022" H 6550 6750 50  0001 C CNN
F 1 "GND" H 6550 6850 50  0000 C CNN
F 2 "" H 6550 7000 50  0000 C CNN
F 3 "" H 6550 7000 50  0000 C CNN
	1    6550 7000
	1    0    0    -1  
$EndComp
Wire Wire Line
	6150 6900 6550 6900
Wire Wire Line
	6550 6900 6550 7000
Text GLabel 4650 6750 0    60   Input ~ 0
IMU_INT
Text GLabel 4650 6900 0    60   Input ~ 0
IMU_FSYNC
Wire Wire Line
	4650 6450 4850 6450
Wire Wire Line
	4650 6600 4850 6600
Text GLabel 7450 3700 2    60   Input ~ 0
IMU_INT
Text GLabel 7450 3600 2    60   Input ~ 0
IMU_FSYNC
Wire Wire Line
	4650 6750 4850 6750
Wire Wire Line
	4850 6900 4650 6900
Text GLabel 6300 6300 2    60   Input ~ 0
IMU_DRDY
Wire Wire Line
	6150 6300 6300 6300
Text GLabel 7450 4400 2    60   Input ~ 0
IMU_DRDY
$Comp
L CONN_01X03 P1
U 1 1 574AE353
P 950 1450
F 0 "P1" H 950 1650 50  0000 C CNN
F 1 "MOTOR" V 1050 1450 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x03" H 950 1450 50  0001 C CNN
F 3 "" H 950 1450 50  0000 C CNN
	1    950  1450
	-1   0    0    1   
$EndComp
$Comp
L CONN_01X03 P2
U 1 1 574B6658
P 1400 2800
F 0 "P2" H 1400 3000 50  0000 C CNN
F 1 "SERVO" V 1500 2800 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x03" H 1400 2800 50  0001 C CNN
F 3 "" H 1400 2800 50  0000 C CNN
	1    1400 2800
	-1   0    0    1   
$EndComp
$Comp
L +5V #PWR023
U 1 1 574B9848
P 2100 2800
F 0 "#PWR023" H 2100 2650 50  0001 C CNN
F 1 "+5V" H 2100 2940 50  0000 C CNN
F 2 "" H 2100 2800 50  0000 C CNN
F 3 "" H 2100 2800 50  0000 C CNN
	1    2100 2800
	0    1    1    0   
$EndComp
$Comp
L GND #PWR024
U 1 1 574BA043
P 1850 1550
F 0 "#PWR024" H 1850 1300 50  0001 C CNN
F 1 "GND" H 1850 1400 50  0000 C CNN
F 2 "" H 1850 1550 50  0000 C CNN
F 3 "" H 1850 1550 50  0000 C CNN
	1    1850 1550
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR025
U 1 1 574BA687
P 1650 2900
F 0 "#PWR025" H 1650 2650 50  0001 C CNN
F 1 "GND" H 1650 2750 50  0000 C CNN
F 2 "" H 1650 2900 50  0000 C CNN
F 3 "" H 1650 2900 50  0000 C CNN
	1    1650 2900
	0    -1   -1   0   
$EndComp
Text GLabel 1250 1350 2    60   Input ~ 0
MOTOR
Text GLabel 1650 2700 2    60   Input ~ 0
STEERING
$Comp
L CONN_01X03 P3
U 1 1 574BC3C3
P 1250 4050
F 0 "P3" H 1250 4250 50  0000 C CNN
F 1 "START" V 1350 4050 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x03" H 1250 4050 50  0001 C CNN
F 3 "" H 1250 4050 50  0000 C CNN
	1    1250 4050
	-1   0    0    -1  
$EndComp
Text GLabel 1700 4150 2    60   Input ~ 0
START
$Comp
L GND #PWR026
U 1 1 574BC667
P 1500 4050
F 0 "#PWR026" H 1500 3800 50  0001 C CNN
F 1 "GND" H 1500 3900 50  0000 C CNN
F 2 "" H 1500 4050 50  0000 C CNN
F 3 "" H 1500 4050 50  0000 C CNN
	1    1500 4050
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1150 1350 1250 1350
Wire Wire Line
	1150 1550 1750 1550
Wire Wire Line
	1750 1550 1850 1550
Wire Wire Line
	1650 2700 1600 2700
Wire Wire Line
	1600 2800 2100 2800
Wire Wire Line
	1650 2900 1600 2900
Text GLabel 7450 4000 2    60   Input ~ 0
MOTOR
Text GLabel 8250 4300 2    60   Input ~ 0
STEERING
Text GLabel 7450 4100 2    60   Input ~ 0
START
Text Notes 550  950  0    60   ~ 0
Motor is a Hobbyking XC-10A ESC (Product ID: 913000001)\nIt has a 5V regulator onboard which supplies the PCB with power.\n3 pin connector is thus a power-input, but also used for PWM controlling motor.
Text Notes 950  2500 0    60   ~ 0
Steering can be a SG-90 microservo.
Text Notes 850  3750 0    60   ~ 0
Start is from Startmodule.com.\nNB, use female header.\nVCC: 3.3-5V
$Comp
L +BATT #PWR027
U 1 1 574CD430
P 2000 1450
F 0 "#PWR027" H 2000 1300 50  0001 C CNN
F 1 "+BATT" H 2000 1590 50  0000 C CNN
F 2 "" H 2000 1450 50  0000 C CNN
F 3 "" H 2000 1450 50  0000 C CNN
	1    2000 1450
	0    1    1    0   
$EndComp
$Comp
L INA219 U1
U 1 1 574D7173
P 5600 2150
F 0 "U1" H 5600 1800 60  0000 C CNN
F 1 "INA219" H 5600 2250 60  0000 C CNN
F 2 "Housings_SOIC:SOIC-8_3.9x4.9mm_Pitch1.27mm" H 5600 2150 60  0001 C CNN
F 3 "" H 5600 2150 60  0000 C CNN
	1    5600 2150
	1    0    0    -1  
$EndComp
Wire Wire Line
	4400 1900 4550 1900
Wire Wire Line
	4550 1900 4950 1900
Wire Wire Line
	4950 1900 5050 1900
Wire Wire Line
	4950 1650 5450 1650
Wire Wire Line
	5750 1650 6300 1650
Wire Wire Line
	6300 1650 6300 1900
Wire Wire Line
	6150 1900 6300 1900
Wire Wire Line
	6300 1900 6450 1900
Connection ~ 6300 1900
Wire Wire Line
	6300 2200 6150 2200
Wire Wire Line
	6150 2300 6300 2300
Connection ~ 4950 1900
Wire Wire Line
	4950 2000 5050 2000
Wire Wire Line
	4950 1650 4950 1900
Wire Wire Line
	4950 1900 4950 2000
Wire Wire Line
	4950 2150 4950 2250
Wire Wire Line
	4950 2250 4950 2350
Wire Wire Line
	4950 2350 4950 2450
Wire Wire Line
	4550 2350 4950 2350
Wire Wire Line
	4950 2350 5050 2350
Wire Wire Line
	5050 2250 4950 2250
Connection ~ 4950 2350
Wire Wire Line
	5050 2150 4950 2150
Connection ~ 4950 2250
Wire Wire Line
	4550 2000 4550 1900
Connection ~ 4550 1900
Wire Wire Line
	4550 2300 4550 2350
Wire Wire Line
	1150 1450 1750 1450
Wire Wire Line
	1750 1450 2000 1450
$Comp
L PWR_FLAG #FLG029
U 1 1 574F994A
P 1750 1400
F 0 "#FLG029" H 1750 1495 50  0001 C CNN
F 1 "PWR_FLAG" H 1750 1580 50  0000 C CNN
F 2 "" H 1750 1400 50  0000 C CNN
F 3 "" H 1750 1400 50  0000 C CNN
	1    1750 1400
	1    0    0    -1  
$EndComp
Wire Wire Line
	1750 1600 1750 1550
Connection ~ 1750 1550
Wire Wire Line
	1750 1450 1750 1400
Connection ~ 1750 1450
$Comp
L GND #PWR032
U 1 1 575085F2
P 10500 2150
F 0 "#PWR032" H 10500 1900 50  0001 C CNN
F 1 "GND" H 10500 2000 50  0000 C CNN
F 2 "" H 10500 2150 50  0000 C CNN
F 3 "" H 10500 2150 50  0000 C CNN
	1    10500 2150
	1    0    0    -1  
$EndComp
$Comp
L ESP8266_ESP-12 U17
U 1 1 57522634
P 6550 3850
F 0 "U17" H 6850 2950 60  0000 C CNN
F 1 "ESP8266_ESP-12" H 6550 4500 60  0000 C CNN
F 2 "NorBotKiCadFootprints:ESP8266_ESP_12E" H 6650 3850 60  0001 C CNN
F 3 "" H 6650 3850 60  0000 C CNN
	1    6550 3850
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR035
U 1 1 57522C75
P 8150 4700
F 0 "#PWR035" H 8150 4450 50  0001 C CNN
F 1 "GND" H 8150 4550 50  0000 C CNN
F 2 "" H 8150 4700 50  0000 C CNN
F 3 "" H 8150 4700 50  0000 C CNN
	1    8150 4700
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR036
U 1 1 5752370C
P 4900 3400
F 0 "#PWR036" H 4900 3250 50  0001 C CNN
F 1 "+3.3V" H 4900 3540 50  0000 C CNN
F 2 "" H 4900 3400 50  0000 C CNN
F 3 "" H 4900 3400 50  0000 C CNN
	1    4900 3400
	1    0    0    -1  
$EndComp
Wire Wire Line
	4900 3400 5150 3400
Wire Wire Line
	5150 3400 5350 3400
Wire Wire Line
	5350 3400 5900 3400
Wire Wire Line
	5800 3500 5850 3500
Wire Wire Line
	5850 3500 5900 3500
$Comp
L C C9
U 1 1 5752B944
P 5150 3650
F 0 "C9" H 5175 3750 50  0000 L CNN
F 1 "100nF" H 5175 3550 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 5188 3500 50  0001 C CNN
F 3 "" H 5150 3650 50  0000 C CNN
	1    5150 3650
	-1   0    0    1   
$EndComp
$Comp
L R R30
U 1 1 5752D873
P 8150 4500
F 0 "R30" V 8230 4500 50  0000 C CNN
F 1 "3k3" V 8150 4500 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 8080 4500 50  0001 C CNN
F 3 "" H 8150 4500 50  0000 C CNN
	1    8150 4500
	-1   0    0    1   
$EndComp
Wire Wire Line
	5900 3700 5800 3700
NoConn ~ 5900 3600
NoConn ~ 5900 3900
NoConn ~ 5900 4000
NoConn ~ 5900 4100
NoConn ~ 5900 4200
$Comp
L Transmissive_Photo_Interrupter U16
U 1 1 5752AB1B
P 2000 6950
F 0 "U16" H 2100 6550 60  0000 C CNN
F 1 "Transmissive_Photo_Interrupter" H 2150 7600 60  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x04" H 2000 6950 60  0001 C CNN
F 3 "" H 2000 6950 60  0000 C CNN
	1    2000 6950
	1    0    0    -1  
$EndComp
$Comp
L R R25
U 1 1 57538790
P 1000 6550
F 0 "R25" V 1080 6550 50  0000 C CNN
F 1 "270" V 1000 6550 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 930 6550 50  0001 C CNN
F 3 "" H 1000 6550 50  0000 C CNN
	1    1000 6550
	0    1    1    0   
$EndComp
$Comp
L +5V #PWR038
U 1 1 5753908A
P 700 6550
F 0 "#PWR038" H 700 6400 50  0001 C CNN
F 1 "+5V" H 700 6690 50  0000 C CNN
F 2 "" H 700 6550 50  0000 C CNN
F 3 "" H 700 6550 50  0000 C CNN
	1    700  6550
	1    0    0    -1  
$EndComp
$Comp
L R R26
U 1 1 57539547
P 3250 7050
F 0 "R26" V 3330 7050 50  0000 C CNN
F 1 "10k" V 3250 7050 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 3180 7050 50  0001 C CNN
F 3 "" H 3250 7050 50  0000 C CNN
	1    3250 7050
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1250 6550 1150 6550
Wire Wire Line
	850  6550 700  6550
$Comp
L GND #PWR039
U 1 1 5753AB3C
P 1100 7100
F 0 "#PWR039" H 1100 6850 50  0001 C CNN
F 1 "GND" H 1100 6950 50  0000 C CNN
F 2 "" H 1100 7100 50  0000 C CNN
F 3 "" H 1100 7100 50  0000 C CNN
	1    1100 7100
	1    0    0    -1  
$EndComp
Wire Wire Line
	1250 7100 1100 7100
$Comp
L GND #PWR040
U 1 1 5753C9AD
P 3050 6500
F 0 "#PWR040" H 3050 6250 50  0001 C CNN
F 1 "GND" H 3050 6350 50  0000 C CNN
F 2 "" H 3050 6500 50  0000 C CNN
F 3 "" H 3050 6500 50  0000 C CNN
	1    3050 6500
	1    0    0    -1  
$EndComp
Wire Wire Line
	2900 6500 3050 6500
Text GLabel 3050 7250 2    60   Input ~ 0
ENCODER
Wire Wire Line
	2900 7050 3000 7050
Wire Wire Line
	3000 7050 3100 7050
Wire Wire Line
	3050 7250 3000 7250
Wire Wire Line
	3000 7250 3000 7050
Connection ~ 3000 7050
$Comp
L +5V #PWR041
U 1 1 57541E3C
P 3550 7050
F 0 "#PWR041" H 3550 6900 50  0001 C CNN
F 1 "+5V" H 3550 7190 50  0000 C CNN
F 2 "" H 3550 7050 50  0000 C CNN
F 3 "" H 3550 7050 50  0000 C CNN
	1    3550 7050
	1    0    0    -1  
$EndComp
Wire Wire Line
	3550 7050 3400 7050
Text Notes 1450 6250 0    60   ~ 0
KTIR0611S\nUsed to detect rotations of main drive shaft
Text Notes 5300 5200 0    60   ~ 0
Use pushbutton for firmware programming.\nNB, pull ~Reset~=HIGH and Enable=HIGH using Teensy.\nAny two pins can be used for I2C, randomly choosen 12 and 13.
Wire Wire Line
	1500 4050 1450 4050
Wire Wire Line
	1450 3950 1750 3950
Wire Wire Line
	1700 4150 1450 4150
$Comp
L CONN_01X06 P4
U 1 1 57A4C493
P 3050 4550
F 0 "P4" H 3050 4900 50  0000 C CNN
F 1 "CONN_01X06" V 3150 4550 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x06" H 3050 4550 50  0001 C CNN
F 3 "" H 3050 4550 50  0000 C CNN
	1    3050 4550
	-1   0    0    1   
$EndComp
Text Notes 2950 4200 0    60   ~ 0
Programming header for ESP8266\nUse FTDI Basic.\n0 ohm resistor acts as optional jumper for power.
$Comp
L GND #PWR042
U 1 1 57A4FE29
P 3850 4800
F 0 "#PWR042" H 3850 4550 50  0001 C CNN
F 1 "GND" H 3850 4650 50  0000 C CNN
F 2 "" H 3850 4800 50  0000 C CNN
F 3 "" H 3850 4800 50  0000 C CNN
	1    3850 4800
	1    0    0    -1  
$EndComp
Text Label 3850 4700 0    60   ~ 0
FTDI_CTS
$Comp
L +5V #PWR043
U 1 1 57A5058E
P 4300 4600
F 0 "#PWR043" H 4300 4450 50  0001 C CNN
F 1 "+5V" H 4300 4740 50  0000 C CNN
F 2 "" H 4300 4600 50  0000 C CNN
F 3 "" H 4300 4600 50  0000 C CNN
	1    4300 4600
	0    1    1    0   
$EndComp
Text Label 3850 4300 0    60   ~ 0
FTDI_DTR
Wire Wire Line
	3850 4700 3250 4700
Wire Wire Line
	3250 4800 3850 4800
Wire Wire Line
	3850 4300 3250 4300
Text Label 3850 4400 0    60   ~ 0
FTDI_RX
Text Label 3850 4500 0    60   ~ 0
FTDI_TX
NoConn ~ 3850 4700
NoConn ~ 3850 4300
Wire Wire Line
	3250 4600 3450 4600
Wire Wire Line
	3750 4600 4300 4600
$Comp
L R R9
U 1 1 57A54411
P 3600 4600
F 0 "R9" V 3680 4600 50  0000 C CNN
F 1 "0" V 3600 4600 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 3530 4600 50  0001 C CNN
F 3 "" H 3600 4600 50  0000 C CNN
	1    3600 4600
	0    1    1    0   
$EndComp
$Comp
L SW_PUSH SW2
U 1 1 57A5960A
P 7650 3050
F 0 "SW2" H 7800 3160 50  0000 C CNN
F 1 "FIRMWARE" H 7650 2970 50  0000 C CNN
F 2 "Buttons_Switches_SMD:SW_SPST_SKQG" H 7650 3050 50  0001 C CNN
F 3 "" H 7650 3050 50  0000 C CNN
	1    7650 3050
	1    0    0    -1  
$EndComp
Wire Wire Line
	7350 3400 7350 3050
Connection ~ 7350 3400
$Comp
L GND #PWR044
U 1 1 57A5BCEA
P 8050 3050
F 0 "#PWR044" H 8050 2800 50  0001 C CNN
F 1 "GND" H 8050 2900 50  0000 C CNN
F 2 "" H 8050 3050 50  0000 C CNN
F 3 "" H 8050 3050 50  0000 C CNN
	1    8050 3050
	0    -1   -1   0   
$EndComp
Wire Wire Line
	7950 3050 8050 3050
Text Notes 7200 1000 0    60   ~ 0
Revision 2 summary: \nReplaces Teensy with ESP8266\nRemoves HM-11 Bluetooth\nRemove Toggle LED circuit
Text GLabel 7450 3400 2    60   Input ~ 0
ESP_SDA
$Comp
L R R?
U 1 1 584836FC
P 5650 3500
F 0 "R?" V 5730 3500 50  0000 C CNN
F 1 "10k" V 5650 3500 50  0000 C CNN
F 2 "" V 5580 3500 50  0000 C CNN
F 3 "" H 5650 3500 50  0000 C CNN
	1    5650 3500
	0    1    1    0   
$EndComp
$Comp
L R R?
U 1 1 584837FF
P 5650 3700
F 0 "R?" V 5730 3700 50  0000 C CNN
F 1 "10k" V 5650 3700 50  0000 C CNN
F 2 "" V 5580 3700 50  0000 C CNN
F 3 "" H 5650 3700 50  0000 C CNN
	1    5650 3700
	0    1    1    0   
$EndComp
Wire Wire Line
	5500 3500 5350 3500
Wire Wire Line
	5350 3400 5350 3500
Wire Wire Line
	5350 3500 5350 3700
Wire Wire Line
	5350 3700 5500 3700
Connection ~ 5350 3500
Text GLabel 7450 3500 2    60   Input ~ 0
ESP_SCL
Wire Wire Line
	7450 4000 7250 4000
Text GLabel 9650 5500 0    60   Input ~ 0
ESP_SDA
Text GLabel 9650 5650 0    60   Input ~ 0
ESP_SCL
Text GLabel 4650 6450 0    60   Input ~ 0
ESP_SDA
Text GLabel 4650 6600 0    60   Input ~ 0
ESP_SCL
Text GLabel 7450 4200 2    60   Input ~ 0
ENCODER
Wire Wire Line
	7250 4200 7450 4200
Wire Wire Line
	7450 4100 7250 4100
Wire Wire Line
	7250 3400 7350 3400
Wire Wire Line
	7350 3400 7450 3400
Wire Wire Line
	7250 3500 7450 3500
Wire Wire Line
	7250 3600 7450 3600
Wire Wire Line
	7450 3700 7250 3700
Wire Wire Line
	7450 4400 7250 4400
NoConn ~ 7250 3800
Text GLabel 9350 4050 3    60   Input ~ 0
ESP_SDA
Text GLabel 9600 4050 3    60   Input ~ 0
ESP_SCL
$Comp
L R R?
U 1 1 58498AEC
P 9350 3750
F 0 "R?" V 9430 3750 50  0000 C CNN
F 1 "2k2" V 9350 3750 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 9280 3750 50  0001 C CNN
F 3 "" H 9350 3750 50  0000 C CNN
	1    9350 3750
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 58498C1E
P 9600 3750
F 0 "R?" V 9680 3750 50  0000 C CNN
F 1 "2k2" V 9600 3750 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 9530 3750 50  0001 C CNN
F 3 "" H 9600 3750 50  0000 C CNN
	1    9600 3750
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR?
U 1 1 58498CDD
P 9350 3400
F 0 "#PWR?" H 9350 3250 50  0001 C CNN
F 1 "+3.3V" H 9350 3540 50  0000 C CNN
F 2 "" H 9350 3400 50  0000 C CNN
F 3 "" H 9350 3400 50  0000 C CNN
	1    9350 3400
	1    0    0    -1  
$EndComp
Wire Wire Line
	9350 4050 9350 3900
Wire Wire Line
	9350 3400 9350 3500
Wire Wire Line
	9350 3500 9350 3600
Wire Wire Line
	9600 3600 9600 3500
Wire Wire Line
	9600 3500 9350 3500
Connection ~ 9350 3500
Wire Wire Line
	9600 3900 9600 4050
Text Notes 9150 3150 0    60   ~ 0
I2C pull-ups
$Comp
L SW_PUSH SW?
U 1 1 5849A957
P 5500 3050
F 0 "SW?" H 5650 3160 50  0000 C CNN
F 1 "RESET" H 5500 2970 50  0000 C CNN
F 2 "Buttons_Switches_SMD:SW_SPST_SKQG" H 5500 3050 50  0001 C CNN
F 3 "" H 5500 3050 50  0000 C CNN
	1    5500 3050
	1    0    0    -1  
$EndComp
Connection ~ 5350 3400
Wire Wire Line
	5850 3500 5850 3050
Wire Wire Line
	5850 3050 5800 3050
Connection ~ 5850 3500
$Comp
L GND #PWR?
U 1 1 5849B9C1
P 5150 3050
F 0 "#PWR?" H 5150 2800 50  0001 C CNN
F 1 "GND" H 5150 2900 50  0000 C CNN
F 2 "" H 5150 3050 50  0000 C CNN
F 3 "" H 5150 3050 50  0000 C CNN
	1    5150 3050
	0    1    1    0   
$EndComp
Wire Wire Line
	5200 3050 5150 3050
$Comp
L +3.3V #PWR?
U 1 1 584A518D
P 1750 3950
F 0 "#PWR?" H 1750 3800 50  0001 C CNN
F 1 "+3.3V" H 1750 4090 50  0000 C CNN
F 2 "" H 1750 3950 50  0000 C CNN
F 3 "" H 1750 3950 50  0000 C CNN
	1    1750 3950
	0    1    1    0   
$EndComp
Wire Notes Line
	11200 2850 8400 2850
Wire Notes Line
	8400 2850 8400 500 
Wire Notes Line
	500  2150 3600 2150
Wire Notes Line
	3600 2150 3600 500 
Wire Wire Line
	3250 4500 5900 4500
Wire Wire Line
	3250 4400 5900 4400
NoConn ~ 7250 3900
$Comp
L GND #PWR?
U 1 1 584B13B9
P 7350 4700
F 0 "#PWR?" H 7350 4450 50  0001 C CNN
F 1 "GND" H 7350 4550 50  0000 C CNN
F 2 "" H 7350 4700 50  0000 C CNN
F 3 "" H 7350 4700 50  0000 C CNN
	1    7350 4700
	1    0    0    -1  
$EndComp
Wire Wire Line
	7250 4550 7350 4550
Wire Wire Line
	7350 4550 7350 4700
Wire Wire Line
	7250 4300 8150 4300
Wire Wire Line
	8150 4300 8250 4300
Wire Wire Line
	8150 4350 8150 4300
Connection ~ 8150 4300
Wire Wire Line
	8150 4700 8150 4650
Wire Wire Line
	5150 3500 5150 3400
Connection ~ 5150 3400
$Comp
L GND #PWR?
U 1 1 584B572F
P 5150 3850
F 0 "#PWR?" H 5150 3600 50  0001 C CNN
F 1 "GND" H 5150 3700 50  0000 C CNN
F 2 "" H 5150 3850 50  0000 C CNN
F 3 "" H 5150 3850 50  0000 C CNN
	1    5150 3850
	1    0    0    -1  
$EndComp
Wire Wire Line
	5150 3850 5150 3800
$EndSCHEMATC
