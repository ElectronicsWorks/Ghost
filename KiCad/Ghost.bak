EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:NorBot
LIBS:Ghost-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 3
Title "Ghost - Folkracer"
Date "2016-05-27"
Rev ""
Comp ""
Comment1 "Frode Lillerud"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 4050 6700 1300 900 
U 5748AB6A
F0 "FreeIMU" 60
F1 "FreeIMU.sch" 60
F2 "VCC" I L 4050 6850 60 
F3 "INT" I L 4050 7300 60 
F4 "FSYNC" I L 4050 7450 60 
F5 "GND" I R 5350 7450 60 
F6 "DRDY" I R 5350 6850 60 
F7 "SCL" I L 4050 7150 60 
F8 "SDA" I L 4050 7000 60 
$EndSheet
Text Notes 4900 800  0    197  ~ 39
GHOST (rev 2)
$Comp
L C C1
U 1 1 5748AC15
P 3300 2250
F 0 "C1" H 3325 2350 50  0000 L CNN
F 1 "0.1-1uF" H 3325 2150 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 3338 2100 50  0001 C CNN
F 3 "" H 3300 2250 50  0000 C CNN
	1    3300 2250
	1    0    0    -1  
$EndComp
$Sheet
S 1450 6700 800  800 
U 5748ACD3
F0 "IRSensors" 60
F1 "IRSensors.sch" 60
F2 "VCC" I L 1450 6850 60 
F3 "SDA" I L 1450 7000 60 
F4 "SCL" I L 1450 7150 60 
F5 "GND" I L 1450 7300 60 
$EndSheet
Text Notes 3850 1550 0    60   ~ 0
Current sensor - INA219BIDR\nFarnell: 2496402\nI2C addr: 0x40
$Comp
L GND #PWR01
U 1 1 5748CCB8
P 3700 2550
F 0 "#PWR01" H 3700 2300 50  0001 C CNN
F 1 "GND" H 3700 2400 50  0000 C CNN
F 2 "" H 3700 2550 50  0000 C CNN
F 3 "" H 3700 2550 50  0000 C CNN
	1    3700 2550
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR02
U 1 1 5748CF6D
P 5200 2000
F 0 "#PWR02" H 5200 1850 50  0001 C CNN
F 1 "+5V" H 5200 2140 50  0000 C CNN
F 2 "" H 5200 2000 50  0000 C CNN
F 3 "" H 5200 2000 50  0000 C CNN
	1    5200 2000
	0    1    1    0   
$EndComp
$Comp
L +BATT #PWR03
U 1 1 5748CFFD
P 3150 2000
F 0 "#PWR03" H 3150 1850 50  0001 C CNN
F 1 "+BATT" H 3150 2140 50  0000 C CNN
F 2 "" H 3150 2000 50  0000 C CNN
F 3 "" H 3150 2000 50  0000 C CNN
	1    3150 2000
	0    -1   -1   0   
$EndComp
Text GLabel 5050 2300 2    60   Input ~ 0
TEENSY_SDA
Text GLabel 5050 2400 2    60   Input ~ 0
TEENSY_SCL
$Comp
L MIC5219-3.3YM5 U3
U 1 1 5748D328
P 6900 1800
F 0 "U3" H 6900 2200 60  0000 C CNN
F 1 "MIC5219-3.3YM5" H 6950 1400 60  0000 C CNN
F 2 "TO_SOT_Packages_SMD:SOT-23-5" H 6900 1800 60  0001 C CNN
F 3 "" H 6900 1800 60  0000 C CNN
	1    6900 1800
	1    0    0    -1  
$EndComp
Text Notes 6000 1300 0    60   ~ 0
MIC5219 3.3V LDO regulator (max 500mA out)
$Comp
L +5V #PWR04
U 1 1 5748D426
P 6250 1600
F 0 "#PWR04" H 6250 1450 50  0001 C CNN
F 1 "+5V" H 6250 1740 50  0000 C CNN
F 2 "" H 6250 1600 50  0000 C CNN
F 3 "" H 6250 1600 50  0000 C CNN
	1    6250 1600
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR05
U 1 1 5748D489
P 6250 1800
F 0 "#PWR05" H 6250 1550 50  0001 C CNN
F 1 "GND" H 6250 1650 50  0000 C CNN
F 2 "" H 6250 1800 50  0000 C CNN
F 3 "" H 6250 1800 50  0000 C CNN
	1    6250 1800
	0    1    1    0   
$EndComp
$Comp
L C C2
U 1 1 5748D808
P 7550 2150
F 0 "C2" H 7575 2250 50  0000 L CNN
F 1 "470pF" H 7575 2050 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 7588 2000 50  0001 C CNN
F 3 "" H 7550 2150 50  0000 C CNN
	1    7550 2150
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR06
U 1 1 5748D8E8
P 7550 2450
F 0 "#PWR06" H 7550 2200 50  0001 C CNN
F 1 "GND" H 7550 2300 50  0000 C CNN
F 2 "" H 7550 2450 50  0000 C CNN
F 3 "" H 7550 2450 50  0000 C CNN
	1    7550 2450
	1    0    0    -1  
$EndComp
$Comp
L C C3
U 1 1 5748DBA2
P 7950 1900
F 0 "C3" H 7975 2000 50  0000 L CNN
F 1 "2.2uF" H 7975 1800 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 7988 1750 50  0001 C CNN
F 3 "" H 7950 1900 50  0000 C CNN
	1    7950 1900
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR07
U 1 1 5748DE93
P 8100 1600
F 0 "#PWR07" H 8100 1450 50  0001 C CNN
F 1 "+3.3V" H 8100 1740 50  0000 C CNN
F 2 "" H 8100 1600 50  0000 C CNN
F 3 "" H 8100 1600 50  0000 C CNN
	1    8100 1600
	1    0    0    -1  
$EndComp
$Comp
L R R1
U 1 1 5748E603
P 4350 1750
F 0 "R1" V 4430 1750 50  0000 C CNN
F 1 "0.1ohm" V 4250 1750 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 4280 1750 50  0001 C CNN
F 3 "" H 4350 1750 50  0000 C CNN
	1    4350 1750
	0    1    1    0   
$EndComp
$Comp
L PWR_FLAG #FLG08
U 1 1 5748EC4E
P 1750 1600
F 0 "#FLG08" H 1750 1695 50  0001 C CNN
F 1 "PWR_FLAG" H 1750 1780 50  0000 C CNN
F 2 "" H 1750 1600 50  0000 C CNN
F 3 "" H 1750 1600 50  0000 C CNN
	1    1750 1600
	-1   0    0    1   
$EndComp
Wire Wire Line
	6250 1800 6400 1800
Wire Wire Line
	6250 1600 6300 1600
Wire Wire Line
	6300 1600 6400 1600
Wire Wire Line
	6400 2000 6300 2000
Wire Wire Line
	6300 2000 6300 1600
Connection ~ 6300 1600
Wire Wire Line
	7550 2300 7550 2450
Wire Wire Line
	7950 2050 7950 2100
Wire Wire Line
	7400 2000 7550 2000
Wire Wire Line
	7950 1750 7950 1600
Wire Wire Line
	7400 1600 7950 1600
Wire Wire Line
	7950 1600 8100 1600
Connection ~ 7950 1600
$Comp
L Teensy31_32 U2
U 1 1 57494E9C
P 14100 3550
F 0 "U2" H 14600 4350 60  0000 C CNN
F 1 "Teensy31_32" H 14100 3650 60  0000 C CNN
F 2 "NorBotKiCadFootprints:Teensy-3.1_3.2" H 13950 3450 60  0001 C CNN
F 3 "" H 13950 3450 60  0000 C CNN
	1    14100 3550
	1    0    0    -1  
$EndComp
Text GLabel 16200 3750 2    60   Input ~ 0
TEENSY_SDA
Text GLabel 16200 3650 2    60   Input ~ 0
TEENSY_SCL
Wire Wire Line
	14900 3650 15950 3650
Wire Wire Line
	15950 3650 16200 3650
Wire Wire Line
	14900 3750 15950 3750
Wire Wire Line
	15950 3750 16200 3750
$Comp
L +3.3V #PWR010
U 1 1 574A315F
P 1200 6800
F 0 "#PWR010" H 1200 6650 50  0001 C CNN
F 1 "+3.3V" H 1200 6940 50  0000 C CNN
F 2 "" H 1200 6800 50  0000 C CNN
F 3 "" H 1200 6800 50  0000 C CNN
	1    1200 6800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR011
U 1 1 574A31B2
P 1200 7300
F 0 "#PWR011" H 1200 7050 50  0001 C CNN
F 1 "GND" H 1200 7150 50  0000 C CNN
F 2 "" H 1200 7300 50  0000 C CNN
F 3 "" H 1200 7300 50  0000 C CNN
	1    1200 7300
	1    0    0    -1  
$EndComp
Wire Wire Line
	1450 6850 1200 6850
Wire Wire Line
	1200 6850 1200 6800
Wire Wire Line
	1200 7000 1450 7000
Wire Wire Line
	1450 7150 1200 7150
Wire Wire Line
	1200 7300 1450 7300
$Comp
L R R3
U 1 1 574A4A89
P 15950 3950
F 0 "R3" V 16030 3950 50  0000 C CNN
F 1 "2k2" V 15950 3950 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 15880 3950 50  0001 C CNN
F 3 "" H 15950 3950 50  0000 C CNN
	1    15950 3950
	1    0    0    -1  
$EndComp
$Comp
L R R2
U 1 1 574A4B07
P 15950 3450
F 0 "R2" V 16030 3450 50  0000 C CNN
F 1 "2k2" V 15950 3450 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 15880 3450 50  0001 C CNN
F 3 "" H 15950 3450 50  0000 C CNN
	1    15950 3450
	1    0    0    -1  
$EndComp
Wire Wire Line
	15950 3750 15950 3800
Connection ~ 15950 3750
Wire Wire Line
	15950 3650 15950 3600
Connection ~ 15950 3650
$Comp
L +3.3V #PWR012
U 1 1 574A5FE1
P 16200 3300
F 0 "#PWR012" H 16200 3150 50  0001 C CNN
F 1 "+3.3V" H 16200 3440 50  0000 C CNN
F 2 "" H 16200 3300 50  0000 C CNN
F 3 "" H 16200 3300 50  0000 C CNN
	1    16200 3300
	0    1    1    0   
$EndComp
$Comp
L +3.3V #PWR013
U 1 1 574A603A
P 16200 4100
F 0 "#PWR013" H 16200 3950 50  0001 C CNN
F 1 "+3.3V" H 16200 4240 50  0000 C CNN
F 2 "" H 16200 4100 50  0000 C CNN
F 3 "" H 16200 4100 50  0000 C CNN
	1    16200 4100
	0    1    1    0   
$EndComp
Wire Wire Line
	15950 3300 16200 3300
Wire Wire Line
	16200 4100 15950 4100
$Comp
L +5V #PWR014
U 1 1 574A6589
P 15100 2950
F 0 "#PWR014" H 15100 2800 50  0001 C CNN
F 1 "+5V" H 15100 3090 50  0000 C CNN
F 2 "" H 15100 2950 50  0000 C CNN
F 3 "" H 15100 2950 50  0000 C CNN
	1    15100 2950
	1    0    0    -1  
$EndComp
Wire Wire Line
	14900 2950 15100 2950
$Comp
L GND #PWR015
U 1 1 574A7366
P 15100 3050
F 0 "#PWR015" H 15100 2800 50  0001 C CNN
F 1 "GND" H 15100 2900 50  0000 C CNN
F 2 "" H 15100 3050 50  0000 C CNN
F 3 "" H 15100 3050 50  0000 C CNN
	1    15100 3050
	0    -1   -1   0   
$EndComp
Wire Wire Line
	15100 3050 14900 3050
NoConn ~ 14900 3150
$Comp
L GND #PWR016
U 1 1 574A7B0A
P 14150 4600
F 0 "#PWR016" H 14150 4350 50  0001 C CNN
F 1 "GND" H 14150 4450 50  0000 C CNN
F 2 "" H 14150 4600 50  0000 C CNN
F 3 "" H 14150 4600 50  0000 C CNN
	1    14150 4600
	1    0    0    -1  
$EndComp
Wire Wire Line
	14150 4600 14150 4500
NoConn ~ 13950 4500
NoConn ~ 14050 4500
NoConn ~ 14250 4500
NoConn ~ 14350 4500
NoConn ~ 13950 2600
NoConn ~ 14050 2600
NoConn ~ 14150 2600
NoConn ~ 14250 2600
$Comp
L GND #PWR017
U 1 1 574A8971
P 13150 2950
F 0 "#PWR017" H 13150 2700 50  0001 C CNN
F 1 "GND" H 13150 2800 50  0000 C CNN
F 2 "" H 13150 2950 50  0000 C CNN
F 3 "" H 13150 2950 50  0000 C CNN
	1    13150 2950
	0    1    1    0   
$EndComp
Wire Wire Line
	13350 2950 13150 2950
$Comp
L LED D1
U 1 1 574AB5F1
P 9600 1250
F 0 "D1" H 9600 1350 50  0000 C CNN
F 1 "GREEN" H 9600 1150 50  0000 C CNN
F 2 "LEDs:LED_0603" H 9600 1250 50  0001 C CNN
F 3 "" H 9600 1250 50  0000 C CNN
	1    9600 1250
	0    -1   -1   0   
$EndComp
$Comp
L LED D3
U 1 1 574AB9EC
P 10850 2050
F 0 "D3" H 10850 2150 50  0000 C CNN
F 1 "RED" H 10850 1950 50  0000 C CNN
F 2 "LEDs:LED_0603" H 10850 2050 50  0001 C CNN
F 3 "" H 10850 2050 50  0000 C CNN
	1    10850 2050
	0    -1   -1   0   
$EndComp
$Comp
L R R5
U 1 1 574ABA6E
P 10100 1300
F 0 "R5" V 10180 1300 50  0000 C CNN
F 1 "100" V 10100 1300 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 10030 1300 50  0001 C CNN
F 3 "" H 10100 1300 50  0000 C CNN
	1    10100 1300
	1    0    0    -1  
$EndComp
$Comp
L Q_NPN_BEC Q1
U 1 1 574ABB1B
P 10000 1850
F 0 "Q1" H 10300 1900 50  0000 R CNN
F 1 "MMBT3904" H 10500 1600 50  0000 R CNN
F 2 "TO_SOT_Packages_SMD:SOT-23" H 10200 1950 50  0001 C CNN
F 3 "" H 10000 1850 50  0000 C CNN
	1    10000 1850
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR018
U 1 1 574ABBB6
P 10100 2400
F 0 "#PWR018" H 10100 2150 50  0001 C CNN
F 1 "GND" H 10100 2250 50  0000 C CNN
F 2 "" H 10100 2400 50  0000 C CNN
F 3 "" H 10100 2400 50  0000 C CNN
	1    10100 2400
	1    0    0    -1  
$EndComp
$Comp
L R R7
U 1 1 574ABF5F
P 10600 1600
F 0 "R7" V 10680 1600 50  0000 C CNN
F 1 "50" V 10600 1600 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 10530 1600 50  0001 C CNN
F 3 "" H 10600 1600 50  0000 C CNN
	1    10600 1600
	0    1    1    0   
$EndComp
$Comp
L GND #PWR019
U 1 1 574ABFEE
P 10850 2400
F 0 "#PWR019" H 10850 2150 50  0001 C CNN
F 1 "GND" H 10850 2250 50  0000 C CNN
F 2 "" H 10850 2400 50  0000 C CNN
F 3 "" H 10850 2400 50  0000 C CNN
	1    10850 2400
	1    0    0    -1  
$EndComp
$Comp
L R R4
U 1 1 574AC4CF
P 9600 1700
F 0 "R4" V 9680 1700 50  0000 C CNN
F 1 "40" V 9600 1700 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 9530 1700 50  0001 C CNN
F 3 "" H 9600 1700 50  0000 C CNN
	1    9600 1700
	-1   0    0    1   
$EndComp
Text Notes 9550 750  0    60   ~ 0
Toggle LEDs with one GPIO\nNPN is a MMBT3904, SOT-23.
$Comp
L +5V #PWR020
U 1 1 574AD75F
P 10100 1050
F 0 "#PWR020" H 10100 900 50  0001 C CNN
F 1 "+5V" H 10100 1190 50  0000 C CNN
F 2 "" H 10100 1050 50  0000 C CNN
F 3 "" H 10100 1050 50  0000 C CNN
	1    10100 1050
	1    0    0    -1  
$EndComp
Wire Wire Line
	10100 1050 10100 1150
Wire Wire Line
	10100 1450 10100 1600
Wire Wire Line
	10100 1600 10100 1650
Wire Wire Line
	10450 1600 10100 1600
Connection ~ 10100 1600
Wire Wire Line
	10750 1600 10850 1600
Wire Wire Line
	10850 1600 10850 1850
Wire Wire Line
	10850 2250 10850 2400
Wire Wire Line
	10100 2400 10100 2050
Wire Wire Line
	9800 1850 9600 1850
Wire Wire Line
	9600 1550 9600 1450
Text GLabel 9600 950  0    60   Input ~ 0
TOGGLE_LED
Wire Wire Line
	9600 1050 9600 950 
Text GLabel 13150 3250 0    60   Input ~ 0
TOGGLE_LED
$Comp
L +3.3V #PWR021
U 1 1 574CA1FE
P 3700 6750
F 0 "#PWR021" H 3700 6600 50  0001 C CNN
F 1 "+3.3V" H 3700 6890 50  0000 C CNN
F 2 "" H 3700 6750 50  0000 C CNN
F 3 "" H 3700 6750 50  0000 C CNN
	1    3700 6750
	1    0    0    -1  
$EndComp
Wire Wire Line
	4050 6850 3700 6850
Wire Wire Line
	3700 6850 3700 6750
$Comp
L GND #PWR022
U 1 1 574CA30A
P 5750 7550
F 0 "#PWR022" H 5750 7300 50  0001 C CNN
F 1 "GND" H 5750 7400 50  0000 C CNN
F 2 "" H 5750 7550 50  0000 C CNN
F 3 "" H 5750 7550 50  0000 C CNN
	1    5750 7550
	1    0    0    -1  
$EndComp
Wire Wire Line
	5350 7450 5750 7450
Wire Wire Line
	5750 7450 5750 7550
Text GLabel 3850 7300 0    60   Input ~ 0
IMU_INT
Text GLabel 3850 7450 0    60   Input ~ 0
IMU_FSYNC
Wire Wire Line
	3850 7000 4050 7000
Wire Wire Line
	3850 7150 4050 7150
Text GLabel 7450 3700 2    60   Input ~ 0
IMU_INT
Text GLabel 7450 3600 2    60   Input ~ 0
IMU_FSYNC
Wire Wire Line
	15100 3250 14900 3250
Wire Wire Line
	14900 3350 15100 3350
Wire Wire Line
	3850 7300 4050 7300
Wire Wire Line
	4050 7450 3850 7450
Text GLabel 5500 6850 2    60   Input ~ 0
IMU_DRDY
Wire Wire Line
	5350 6850 5500 6850
Text GLabel 7450 4400 2    60   Input ~ 0
IMU_DRDY
Wire Wire Line
	15100 3450 14900 3450
$Comp
L CONN_01X03 P1
U 1 1 574AE353
P 950 1450
F 0 "P1" H 950 1650 50  0000 C CNN
F 1 "MOTOR" V 1050 1450 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x03" H 950 1450 50  0001 C CNN
F 3 "" H 950 1450 50  0000 C CNN
	1    950  1450
	-1   0    0    1   
$EndComp
$Comp
L CONN_01X03 P2
U 1 1 574B6658
P 1150 3250
F 0 "P2" H 1150 3450 50  0000 C CNN
F 1 "SERVO" V 1250 3250 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x03" H 1150 3250 50  0001 C CNN
F 3 "" H 1150 3250 50  0000 C CNN
	1    1150 3250
	-1   0    0    1   
$EndComp
$Comp
L +5V #PWR023
U 1 1 574B9848
P 1850 3250
F 0 "#PWR023" H 1850 3100 50  0001 C CNN
F 1 "+5V" H 1850 3390 50  0000 C CNN
F 2 "" H 1850 3250 50  0000 C CNN
F 3 "" H 1850 3250 50  0000 C CNN
	1    1850 3250
	0    1    1    0   
$EndComp
$Comp
L GND #PWR024
U 1 1 574BA043
P 1850 1550
F 0 "#PWR024" H 1850 1300 50  0001 C CNN
F 1 "GND" H 1850 1400 50  0000 C CNN
F 2 "" H 1850 1550 50  0000 C CNN
F 3 "" H 1850 1550 50  0000 C CNN
	1    1850 1550
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR025
U 1 1 574BA687
P 1400 3350
F 0 "#PWR025" H 1400 3100 50  0001 C CNN
F 1 "GND" H 1400 3200 50  0000 C CNN
F 2 "" H 1400 3350 50  0000 C CNN
F 3 "" H 1400 3350 50  0000 C CNN
	1    1400 3350
	0    -1   -1   0   
$EndComp
Text GLabel 1250 1350 2    60   Input ~ 0
MOTOR
Text GLabel 1400 3150 2    60   Input ~ 0
STEERING
$Comp
L CONN_01X03 P3
U 1 1 574BC3C3
P 1150 4350
F 0 "P3" H 1150 4550 50  0000 C CNN
F 1 "START" V 1250 4350 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x03" H 1150 4350 50  0001 C CNN
F 3 "" H 1150 4350 50  0000 C CNN
	1    1150 4350
	-1   0    0    -1  
$EndComp
Text GLabel 1500 4450 2    60   Input ~ 0
START
$Comp
L GND #PWR026
U 1 1 574BC667
P 1500 4350
F 0 "#PWR026" H 1500 4100 50  0001 C CNN
F 1 "GND" H 1500 4200 50  0000 C CNN
F 2 "" H 1500 4350 50  0000 C CNN
F 3 "" H 1500 4350 50  0000 C CNN
	1    1500 4350
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1150 1350 1250 1350
Wire Wire Line
	1150 1550 1750 1550
Wire Wire Line
	1750 1550 1850 1550
Wire Wire Line
	1400 3150 1350 3150
Wire Wire Line
	1350 3250 1850 3250
Wire Wire Line
	1400 3350 1350 3350
Text GLabel 7450 4000 2    60   Input ~ 0
MOTOR
Text GLabel 7450 4100 2    60   Input ~ 0
STEERING
Text GLabel 7450 3900 2    60   Input ~ 0
START
Wire Wire Line
	13150 3350 13350 3350
Wire Wire Line
	13350 3450 13150 3450
Wire Wire Line
	13150 3550 13350 3550
Text Notes 750  1050 0    60   ~ 0
Motor is a Hobbyking XC-10A ESC (Product ID: 913000001)\nIt has a 5V regulator onboard which supplies the PCB with power.\n3 pin connector is thus a power-input, but also used for PWM controlling motor.
Text Notes 700  2950 0    60   ~ 0
Steering can be a SG-90 microservo.
Text Notes 750  4050 0    60   ~ 0
Start is from Startmodule.com.\nNB, use female header.\nCan be power-cycled from Teensy\nVCC: 3.3-5V
$Comp
L +BATT #PWR027
U 1 1 574CD430
P 2000 1450
F 0 "#PWR027" H 2000 1300 50  0001 C CNN
F 1 "+BATT" H 2000 1590 50  0000 C CNN
F 2 "" H 2000 1450 50  0000 C CNN
F 3 "" H 2000 1450 50  0000 C CNN
	1    2000 1450
	0    1    1    0   
$EndComp
$Comp
L INA219 U1
U 1 1 574D7173
P 4350 2250
F 0 "U1" H 4350 1900 60  0000 C CNN
F 1 "INA219" H 4350 2350 60  0000 C CNN
F 2 "Housings_SOIC:SOIC-8_3.9x4.9mm_Pitch1.27mm" H 4350 2250 60  0001 C CNN
F 3 "" H 4350 2250 60  0000 C CNN
	1    4350 2250
	1    0    0    -1  
$EndComp
Wire Wire Line
	3150 2000 3300 2000
Wire Wire Line
	3300 2000 3700 2000
Wire Wire Line
	3700 2000 3800 2000
Wire Wire Line
	3700 1750 4200 1750
Wire Wire Line
	4500 1750 5050 1750
Wire Wire Line
	5050 1750 5050 2000
Wire Wire Line
	4900 2000 5050 2000
Wire Wire Line
	5050 2000 5200 2000
Connection ~ 5050 2000
Wire Wire Line
	5050 2300 4900 2300
Wire Wire Line
	4900 2400 5050 2400
Connection ~ 3700 2000
Wire Wire Line
	3700 2100 3800 2100
Wire Wire Line
	3700 1750 3700 2000
Wire Wire Line
	3700 2000 3700 2100
Wire Wire Line
	3700 2250 3700 2350
Wire Wire Line
	3700 2350 3700 2450
Wire Wire Line
	3700 2450 3700 2550
Wire Wire Line
	3300 2450 3700 2450
Wire Wire Line
	3700 2450 3800 2450
Wire Wire Line
	3800 2350 3700 2350
Connection ~ 3700 2450
Wire Wire Line
	3800 2250 3700 2250
Connection ~ 3700 2350
Text GLabel 1500 4250 2    60   Input ~ 0
START_POWER
Text GLabel 13150 3650 0    60   Input ~ 0
START_POWER
Wire Wire Line
	13350 3650 13150 3650
$Comp
L SW_PUSH SW1
U 1 1 574EC170
P 1650 2450
F 0 "SW1" H 1800 2560 50  0000 C CNN
F 1 "BTN1" H 1650 2370 50  0000 C CNN
F 2 "Buttons_Switches_SMD:SW_SPST_SKQG" H 1650 2450 50  0001 C CNN
F 3 "" H 1650 2450 50  0000 C CNN
	1    1650 2450
	1    0    0    -1  
$EndComp
Text GLabel 13150 3750 0    60   Input ~ 0
BUTTON
Wire Wire Line
	13350 3750 13150 3750
Text GLabel 1200 2450 0    60   Input ~ 0
BUTTON
Text Notes 800  2250 0    60   ~ 0
General purpose switch.\nGoogle 'Teensy Input with Pullup' for code.
$Comp
L GND #PWR028
U 1 1 574EDE4F
P 2200 2450
F 0 "#PWR028" H 2200 2200 50  0001 C CNN
F 1 "GND" H 2200 2300 50  0000 C CNN
F 2 "" H 2200 2450 50  0000 C CNN
F 3 "" H 2200 2450 50  0000 C CNN
	1    2200 2450
	1    0    0    -1  
$EndComp
Wire Wire Line
	2200 2450 1950 2450
Wire Wire Line
	1350 2450 1200 2450
Wire Wire Line
	3300 2100 3300 2000
Connection ~ 3300 2000
Wire Wire Line
	3300 2400 3300 2450
Wire Wire Line
	1150 1450 1750 1450
Wire Wire Line
	1750 1450 2000 1450
$Comp
L PWR_FLAG #FLG029
U 1 1 574F994A
P 1750 1400
F 0 "#FLG029" H 1750 1495 50  0001 C CNN
F 1 "PWR_FLAG" H 1750 1580 50  0000 C CNN
F 2 "" H 1750 1400 50  0000 C CNN
F 3 "" H 1750 1400 50  0000 C CNN
	1    1750 1400
	1    0    0    -1  
$EndComp
Wire Wire Line
	1750 1600 1750 1550
Connection ~ 1750 1550
Wire Wire Line
	1750 1450 1750 1400
Connection ~ 1750 1450
$Comp
L CONN_01X03 P5
U 1 1 574FF703
P 10350 5950
F 0 "P5" H 10350 6150 50  0000 C CNN
F 1 "RGB" V 10450 5950 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x03" H 10350 5950 50  0001 C CNN
F 3 "" H 10350 5950 50  0000 C CNN
	1    10350 5950
	1    0    0    1   
$EndComp
$Comp
L +5V #PWR030
U 1 1 57500A36
P 10050 5750
F 0 "#PWR030" H 10050 5600 50  0001 C CNN
F 1 "+5V" H 10050 5890 50  0000 C CNN
F 2 "" H 10050 5750 50  0000 C CNN
F 3 "" H 10050 5750 50  0000 C CNN
	1    10050 5750
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR031
U 1 1 575021B1
P 10050 6150
F 0 "#PWR031" H 10050 5900 50  0001 C CNN
F 1 "GND" H 10050 6000 50  0000 C CNN
F 2 "" H 10050 6150 50  0000 C CNN
F 3 "" H 10050 6150 50  0000 C CNN
	1    10050 6150
	1    0    0    -1  
$EndComp
Text GLabel 13150 4250 0    60   Input ~ 0
RGB_STRIP
Wire Wire Line
	13350 4250 13150 4250
Text GLabel 10000 5950 0    60   Input ~ 0
RGB_STRIP
Wire Wire Line
	10150 5850 10050 5850
Wire Wire Line
	10050 5850 10050 5750
Wire Wire Line
	10150 6050 10050 6050
Wire Wire Line
	10050 6050 10050 6150
Wire Wire Line
	10000 5950 10150 5950
$Comp
L GND #PWR032
U 1 1 575085F2
P 7950 2100
F 0 "#PWR032" H 7950 1850 50  0001 C CNN
F 1 "GND" H 7950 1950 50  0000 C CNN
F 2 "" H 7950 2100 50  0000 C CNN
F 3 "" H 7950 2100 50  0000 C CNN
	1    7950 2100
	1    0    0    -1  
$EndComp
Text Notes 9450 5550 0    60   ~ 0
WS2812 LED strip\nNB, each LED can draw up to 60mA
NoConn ~ 14900 3550
NoConn ~ 14900 4050
NoConn ~ 14900 4150
NoConn ~ 14900 4250
$Comp
L ESP8266_ESP-12 U17
U 1 1 57522634
P 6550 3850
F 0 "U17" H 6850 2950 60  0000 C CNN
F 1 "ESP8266_ESP-12" H 6550 4500 60  0000 C CNN
F 2 "NorBotKiCadFootprints:ESP8266_ESP_12E" H 6650 3850 60  0001 C CNN
F 3 "" H 6650 3850 60  0000 C CNN
	1    6550 3850
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR035
U 1 1 57522C75
P 8400 4550
F 0 "#PWR035" H 8400 4300 50  0001 C CNN
F 1 "GND" H 8400 4400 50  0000 C CNN
F 2 "" H 8400 4550 50  0000 C CNN
F 3 "" H 8400 4550 50  0000 C CNN
	1    8400 4550
	1    0    0    -1  
$EndComp
Wire Wire Line
	8400 4550 7250 4550
$Comp
L +3.3V #PWR036
U 1 1 5752370C
P 5150 3400
F 0 "#PWR036" H 5150 3250 50  0001 C CNN
F 1 "+3.3V" H 5150 3540 50  0000 C CNN
F 2 "" H 5150 3400 50  0000 C CNN
F 3 "" H 5150 3400 50  0000 C CNN
	1    5150 3400
	0    -1   -1   0   
$EndComp
Wire Wire Line
	5150 3400 5350 3400
Wire Wire Line
	5350 3400 5900 3400
Wire Wire Line
	5450 4400 5900 4400
Wire Wire Line
	5450 4500 5900 4500
Wire Wire Line
	5800 3500 5850 3500
Wire Wire Line
	5850 3500 5900 3500
$Comp
L C C9
U 1 1 5752B944
P 8400 3950
F 0 "C9" H 8425 4050 50  0000 L CNN
F 1 "100nF" H 8425 3850 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 8438 3800 50  0001 C CNN
F 3 "" H 8400 3950 50  0000 C CNN
	1    8400 3950
	-1   0    0    1   
$EndComp
$Comp
L R R30
U 1 1 5752D873
P 8200 4300
F 0 "R30" V 8280 4300 50  0000 C CNN
F 1 "3k3" V 8200 4300 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 8130 4300 50  0001 C CNN
F 3 "" H 8200 4300 50  0000 C CNN
	1    8200 4300
	0    1    1    0   
$EndComp
Wire Wire Line
	7250 4300 8050 4300
Wire Wire Line
	8350 4300 8400 4300
$Comp
L +3.3V #PWR037
U 1 1 57531ECC
P 8400 3700
F 0 "#PWR037" H 8400 3550 50  0001 C CNN
F 1 "+3.3V" H 8400 3840 50  0000 C CNN
F 2 "" H 8400 3700 50  0000 C CNN
F 3 "" H 8400 3700 50  0000 C CNN
	1    8400 3700
	1    0    0    -1  
$EndComp
Wire Wire Line
	8400 3700 8400 3800
Wire Wire Line
	5900 3700 5800 3700
NoConn ~ 5900 3600
NoConn ~ 5900 3900
NoConn ~ 5900 4000
NoConn ~ 5900 4100
NoConn ~ 5900 4200
$Comp
L Transmissive_Photo_Interrupter U16
U 1 1 5752AB1B
P 1950 5950
F 0 "U16" H 2050 5550 60  0000 C CNN
F 1 "Transmissive_Photo_Interrupter" H 2100 6600 60  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x04" H 1950 5950 60  0001 C CNN
F 3 "" H 1950 5950 60  0000 C CNN
	1    1950 5950
	1    0    0    -1  
$EndComp
$Comp
L R R25
U 1 1 57538790
P 950 5550
F 0 "R25" V 1030 5550 50  0000 C CNN
F 1 "270" V 950 5550 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 880 5550 50  0001 C CNN
F 3 "" H 950 5550 50  0000 C CNN
	1    950  5550
	0    1    1    0   
$EndComp
$Comp
L +5V #PWR038
U 1 1 5753908A
P 650 5550
F 0 "#PWR038" H 650 5400 50  0001 C CNN
F 1 "+5V" H 650 5690 50  0000 C CNN
F 2 "" H 650 5550 50  0000 C CNN
F 3 "" H 650 5550 50  0000 C CNN
	1    650  5550
	1    0    0    -1  
$EndComp
$Comp
L R R26
U 1 1 57539547
P 3200 6050
F 0 "R26" V 3280 6050 50  0000 C CNN
F 1 "10k" V 3200 6050 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 3130 6050 50  0001 C CNN
F 3 "" H 3200 6050 50  0000 C CNN
	1    3200 6050
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1200 5550 1100 5550
Wire Wire Line
	800  5550 650  5550
$Comp
L GND #PWR039
U 1 1 5753AB3C
P 1050 6100
F 0 "#PWR039" H 1050 5850 50  0001 C CNN
F 1 "GND" H 1050 5950 50  0000 C CNN
F 2 "" H 1050 6100 50  0000 C CNN
F 3 "" H 1050 6100 50  0000 C CNN
	1    1050 6100
	1    0    0    -1  
$EndComp
Wire Wire Line
	1200 6100 1050 6100
$Comp
L GND #PWR040
U 1 1 5753C9AD
P 3000 5500
F 0 "#PWR040" H 3000 5250 50  0001 C CNN
F 1 "GND" H 3000 5350 50  0000 C CNN
F 2 "" H 3000 5500 50  0000 C CNN
F 3 "" H 3000 5500 50  0000 C CNN
	1    3000 5500
	1    0    0    -1  
$EndComp
Wire Wire Line
	2850 5500 3000 5500
Text GLabel 15100 3850 2    60   Input ~ 0
ENCODER
Wire Wire Line
	15100 3850 14900 3850
Text GLabel 3000 6250 2    60   Input ~ 0
ENCODER
Wire Wire Line
	2850 6050 2950 6050
Wire Wire Line
	2950 6050 3050 6050
Wire Wire Line
	3000 6250 2950 6250
Wire Wire Line
	2950 6250 2950 6050
Connection ~ 2950 6050
$Comp
L +5V #PWR041
U 1 1 57541E3C
P 3500 6050
F 0 "#PWR041" H 3500 5900 50  0001 C CNN
F 1 "+5V" H 3500 6190 50  0000 C CNN
F 2 "" H 3500 6050 50  0000 C CNN
F 3 "" H 3500 6050 50  0000 C CNN
	1    3500 6050
	1    0    0    -1  
$EndComp
Wire Wire Line
	3500 6050 3350 6050
Text Notes 1400 5250 0    60   ~ 0
KTIR0611S\nUsed to detect rotations of main drive shaft
Text Notes 5300 5200 0    60   ~ 0
Use pushbutton for firmware programming.\nNB, pull ~Reset~=HIGH and Enable=HIGH using Teensy.\nAny two pins can be used for I2C, randomly choosen 12 and 13.
Wire Wire Line
	13350 3250 13150 3250
Wire Wire Line
	1500 4350 1350 4350
Wire Wire Line
	1350 4250 1500 4250
Wire Wire Line
	1500 4450 1350 4450
$Comp
L CONN_01X06 P4
U 1 1 57A4C493
P 3150 4300
F 0 "P4" H 3150 4650 50  0000 C CNN
F 1 "CONN_01X06" V 3250 4300 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x06" H 3150 4300 50  0001 C CNN
F 3 "" H 3150 4300 50  0000 C CNN
	1    3150 4300
	-1   0    0    1   
$EndComp
Text Notes 3050 3950 0    60   ~ 0
Programming header for ESP8266\nUse FTDI Basic.\n0 ohm resistor acts as optional jumper for power.
$Comp
L GND #PWR042
U 1 1 57A4FE29
P 3950 4550
F 0 "#PWR042" H 3950 4300 50  0001 C CNN
F 1 "GND" H 3950 4400 50  0000 C CNN
F 2 "" H 3950 4550 50  0000 C CNN
F 3 "" H 3950 4550 50  0000 C CNN
	1    3950 4550
	1    0    0    -1  
$EndComp
Text Label 3950 4450 0    60   ~ 0
FTDI_CTS
$Comp
L +5V #PWR043
U 1 1 57A5058E
P 4400 4350
F 0 "#PWR043" H 4400 4200 50  0001 C CNN
F 1 "+5V" H 4400 4490 50  0000 C CNN
F 2 "" H 4400 4350 50  0000 C CNN
F 3 "" H 4400 4350 50  0000 C CNN
	1    4400 4350
	0    1    1    0   
$EndComp
Text Label 3950 4050 0    60   ~ 0
FTDI_DTR
Wire Wire Line
	3950 4450 3350 4450
Wire Wire Line
	3350 4550 3950 4550
Wire Wire Line
	3950 4050 3350 4050
Text Label 3950 4150 0    60   ~ 0
FTDI_RX
Text Label 3950 4250 0    60   ~ 0
FTDI_TX
Wire Wire Line
	3350 4250 5350 4250
Wire Wire Line
	5350 4250 5350 4500
Wire Wire Line
	5350 4500 5450 4500
Wire Wire Line
	5450 4500 5450 4500
Wire Wire Line
	3350 4150 5450 4150
Wire Wire Line
	5450 4150 5450 4400
NoConn ~ 3950 4450
NoConn ~ 3950 4050
Wire Wire Line
	3350 4350 3550 4350
Wire Wire Line
	3850 4350 4400 4350
$Comp
L R R9
U 1 1 57A54411
P 3700 4350
F 0 "R9" V 3780 4350 50  0000 C CNN
F 1 "0" V 3700 4350 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 3630 4350 50  0001 C CNN
F 3 "" H 3700 4350 50  0000 C CNN
	1    3700 4350
	0    1    1    0   
$EndComp
$Comp
L SW_PUSH SW2
U 1 1 57A5960A
P 7650 3050
F 0 "SW2" H 7800 3160 50  0000 C CNN
F 1 "FIRMWARE" H 7650 2970 50  0000 C CNN
F 2 "Buttons_Switches_SMD:SW_SPST_SKQG" H 7650 3050 50  0001 C CNN
F 3 "" H 7650 3050 50  0000 C CNN
	1    7650 3050
	1    0    0    -1  
$EndComp
Wire Wire Line
	7350 3400 7350 3050
Connection ~ 7350 3400
$Comp
L GND #PWR044
U 1 1 57A5BCEA
P 8050 3050
F 0 "#PWR044" H 8050 2800 50  0001 C CNN
F 1 "GND" H 8050 2900 50  0000 C CNN
F 2 "" H 8050 3050 50  0000 C CNN
F 3 "" H 8050 3050 50  0000 C CNN
	1    8050 3050
	0    -1   -1   0   
$EndComp
Wire Wire Line
	7950 3050 8050 3050
Wire Wire Line
	8400 4100 8400 4300
Wire Wire Line
	8400 4300 8400 4550
NoConn ~ 14900 3950
Text Notes 4950 1100 0    60   ~ 0
Revision 2 summary: \nReplaces Teensy with ESP8266\nRemoves HM-11 Bluetooth\n
Text GLabel 7450 3400 2    60   Input ~ 0
ESP_SDA
$Comp
L R R?
U 1 1 584836FC
P 5650 3500
F 0 "R?" V 5730 3500 50  0000 C CNN
F 1 "10k" V 5650 3500 50  0000 C CNN
F 2 "" V 5580 3500 50  0000 C CNN
F 3 "" H 5650 3500 50  0000 C CNN
	1    5650 3500
	0    1    1    0   
$EndComp
$Comp
L R R?
U 1 1 584837FF
P 5650 3700
F 0 "R?" V 5730 3700 50  0000 C CNN
F 1 "10k" V 5650 3700 50  0000 C CNN
F 2 "" V 5580 3700 50  0000 C CNN
F 3 "" H 5650 3700 50  0000 C CNN
	1    5650 3700
	0    1    1    0   
$EndComp
Wire Wire Line
	5500 3500 5350 3500
Wire Wire Line
	5350 3400 5350 3500
Wire Wire Line
	5350 3500 5350 3700
Wire Wire Line
	5350 3700 5500 3700
Connection ~ 5350 3500
Text GLabel 7450 3500 2    60   Input ~ 0
ESP_SCL
Wire Wire Line
	7450 4000 7250 4000
Text GLabel 1200 7000 0    60   Input ~ 0
ESP_SDA
Text GLabel 1200 7150 0    60   Input ~ 0
ESP_SCL
Text GLabel 3850 7000 0    60   Input ~ 0
ESP_SDA
Text GLabel 3850 7150 0    60   Input ~ 0
ESP_SCL
Text GLabel 7450 4200 2    60   Input ~ 0
ENCODER
Wire Wire Line
	7250 4200 7450 4200
Connection ~ 8400 4300
Wire Wire Line
	7450 3900 7250 3900
Wire Wire Line
	7450 4100 7250 4100
Wire Wire Line
	7250 3400 7350 3400
Wire Wire Line
	7350 3400 7450 3400
Wire Wire Line
	7250 3500 7450 3500
Wire Wire Line
	7250 3600 7450 3600
Wire Wire Line
	7450 3700 7250 3700
Wire Wire Line
	7450 4400 7250 4400
NoConn ~ 7250 3800
Text GLabel 9750 4300 3    60   Input ~ 0
ESP_SDA
Text GLabel 10000 4300 3    60   Input ~ 0
ESP_SCL
$Comp
L R R?
U 1 1 58498AEC
P 9750 4000
F 0 "R?" V 9830 4000 50  0000 C CNN
F 1 "2k2" V 9750 4000 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 9680 4000 50  0001 C CNN
F 3 "" H 9750 4000 50  0000 C CNN
	1    9750 4000
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 58498C1E
P 10000 4000
F 0 "R?" V 10080 4000 50  0000 C CNN
F 1 "2k2" V 10000 4000 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 9930 4000 50  0001 C CNN
F 3 "" H 10000 4000 50  0000 C CNN
	1    10000 4000
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR?
U 1 1 58498CDD
P 9750 3650
F 0 "#PWR?" H 9750 3500 50  0001 C CNN
F 1 "+3.3V" H 9750 3790 50  0000 C CNN
F 2 "" H 9750 3650 50  0000 C CNN
F 3 "" H 9750 3650 50  0000 C CNN
	1    9750 3650
	1    0    0    -1  
$EndComp
Wire Wire Line
	9750 4300 9750 4150
Wire Wire Line
	9750 3650 9750 3750
Wire Wire Line
	9750 3750 9750 3850
Wire Wire Line
	10000 3850 10000 3750
Wire Wire Line
	10000 3750 9750 3750
Connection ~ 9750 3750
Wire Wire Line
	10000 4150 10000 4300
Text Notes 9550 3400 0    60   ~ 0
I2C pull-ups
$Comp
L SW_PUSH SW?
U 1 1 5849A957
P 5500 3050
F 0 "SW?" H 5650 3160 50  0000 C CNN
F 1 "RESET" H 5500 2970 50  0000 C CNN
F 2 "Buttons_Switches_SMD:SW_SPST_SKQG" H 5500 3050 50  0001 C CNN
F 3 "" H 5500 3050 50  0000 C CNN
	1    5500 3050
	1    0    0    -1  
$EndComp
Connection ~ 5350 3400
Wire Wire Line
	5850 3500 5850 3050
Wire Wire Line
	5850 3050 5800 3050
Connection ~ 5850 3500
$Comp
L GND #PWR?
U 1 1 5849B9C1
P 5150 3050
F 0 "#PWR?" H 5150 2800 50  0001 C CNN
F 1 "GND" H 5150 2900 50  0000 C CNN
F 2 "" H 5150 3050 50  0000 C CNN
F 3 "" H 5150 3050 50  0000 C CNN
	1    5150 3050
	0    1    1    0   
$EndComp
Wire Wire Line
	5200 3050 5150 3050
$EndSCHEMATC
