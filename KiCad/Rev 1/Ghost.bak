EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:NorBot
LIBS:Ghost-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 3
Title "Ghost - Folkracer"
Date "2016-05-27"
Rev ""
Comp ""
Comment1 "Frode Lillerud"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 4050 6700 1300 900 
U 5748AB6A
F0 "FreeIMU" 60
F1 "FreeIMU.sch" 60
F2 "VCC" I L 4050 6850 60 
F3 "INT" I L 4050 7300 60 
F4 "FSYNC" I L 4050 7450 60 
F5 "GND" I R 5350 7450 60 
F6 "DRDY" I R 5350 6850 60 
F7 "SCL" I L 4050 7150 60 
F8 "SDA" I L 4050 7000 60 
$EndSheet
Text Notes 4800 1000 0    197  ~ 39
GHOST rev 1
$Comp
L C C1
U 1 1 5748AC15
P 3300 2250
F 0 "C1" H 3325 2350 50  0000 L CNN
F 1 "0.1-1uF" H 3325 2150 50  0000 L CNN
F 2 "Capacitors_SMD:C_0805" H 3338 2100 50  0001 C CNN
F 3 "" H 3300 2250 50  0000 C CNN
	1    3300 2250
	1    0    0    -1  
$EndComp
$Sheet
S 1450 6700 800  800 
U 5748ACD3
F0 "IRSensors" 60
F1 "IRSensors.sch" 60
F2 "VCC" I L 1450 6850 60 
F3 "SDA" I L 1450 7000 60 
F4 "SCL" I L 1450 7150 60 
F5 "GND" I L 1450 7300 60 
$EndSheet
Text Notes 3850 1550 0    60   ~ 0
Current sensor - INA219BIDR\nFarnell: 2496402\nI2C addr: 0x40
$Comp
L GND #PWR01
U 1 1 5748CCB8
P 3700 2550
F 0 "#PWR01" H 3700 2300 50  0001 C CNN
F 1 "GND" H 3700 2400 50  0000 C CNN
F 2 "" H 3700 2550 50  0000 C CNN
F 3 "" H 3700 2550 50  0000 C CNN
	1    3700 2550
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR02
U 1 1 5748CF6D
P 5200 2000
F 0 "#PWR02" H 5200 1850 50  0001 C CNN
F 1 "+5V" H 5200 2140 50  0000 C CNN
F 2 "" H 5200 2000 50  0000 C CNN
F 3 "" H 5200 2000 50  0000 C CNN
	1    5200 2000
	0    1    1    0   
$EndComp
$Comp
L +BATT #PWR03
U 1 1 5748CFFD
P 3150 2000
F 0 "#PWR03" H 3150 1850 50  0001 C CNN
F 1 "+BATT" H 3150 2140 50  0000 C CNN
F 2 "" H 3150 2000 50  0000 C CNN
F 3 "" H 3150 2000 50  0000 C CNN
	1    3150 2000
	0    -1   -1   0   
$EndComp
Text GLabel 5050 2300 2    60   Input ~ 0
TEENSY_SDA
Text GLabel 5050 2400 2    60   Input ~ 0
TEENSY_SCL
$Comp
L MIC5219-3.3YM5 U3
U 1 1 5748D328
P 7250 1850
F 0 "U3" H 7250 2250 60  0000 C CNN
F 1 "MIC5219-3.3YM5" H 7300 1450 60  0000 C CNN
F 2 "TO_SOT_Packages_SMD:SOT-23-5" H 7250 1850 60  0001 C CNN
F 3 "" H 7250 1850 60  0000 C CNN
	1    7250 1850
	1    0    0    -1  
$EndComp
Text Notes 6350 1250 0    60   ~ 0
MIC5219 3.3V LDO regulator (max 500mA out)
$Comp
L +5V #PWR04
U 1 1 5748D426
P 6600 1650
F 0 "#PWR04" H 6600 1500 50  0001 C CNN
F 1 "+5V" H 6600 1790 50  0000 C CNN
F 2 "" H 6600 1650 50  0000 C CNN
F 3 "" H 6600 1650 50  0000 C CNN
	1    6600 1650
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR05
U 1 1 5748D489
P 6600 1850
F 0 "#PWR05" H 6600 1600 50  0001 C CNN
F 1 "GND" H 6600 1700 50  0000 C CNN
F 2 "" H 6600 1850 50  0000 C CNN
F 3 "" H 6600 1850 50  0000 C CNN
	1    6600 1850
	0    1    1    0   
$EndComp
$Comp
L C C2
U 1 1 5748D808
P 7900 2200
F 0 "C2" H 7925 2300 50  0000 L CNN
F 1 "470pF" H 7925 2100 50  0000 L CNN
F 2 "Capacitors_SMD:C_0805" H 7938 2050 50  0001 C CNN
F 3 "" H 7900 2200 50  0000 C CNN
	1    7900 2200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR06
U 1 1 5748D8E8
P 7900 2500
F 0 "#PWR06" H 7900 2250 50  0001 C CNN
F 1 "GND" H 7900 2350 50  0000 C CNN
F 2 "" H 7900 2500 50  0000 C CNN
F 3 "" H 7900 2500 50  0000 C CNN
	1    7900 2500
	1    0    0    -1  
$EndComp
$Comp
L C C3
U 1 1 5748DBA2
P 8300 1950
F 0 "C3" H 8325 2050 50  0000 L CNN
F 1 "2.2uF" H 8325 1850 50  0000 L CNN
F 2 "Capacitors_SMD:C_0805" H 8338 1800 50  0001 C CNN
F 3 "" H 8300 1950 50  0000 C CNN
	1    8300 1950
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR07
U 1 1 5748DE93
P 8450 1650
F 0 "#PWR07" H 8450 1500 50  0001 C CNN
F 1 "+3.3V" H 8450 1790 50  0000 C CNN
F 2 "" H 8450 1650 50  0000 C CNN
F 3 "" H 8450 1650 50  0000 C CNN
	1    8450 1650
	1    0    0    -1  
$EndComp
$Comp
L R R1
U 1 1 5748E603
P 4350 1750
F 0 "R1" V 4430 1750 50  0000 C CNN
F 1 "0.1ohm" V 4250 1750 50  0000 C CNN
F 2 "Resistors_SMD:R_0805" V 4280 1750 50  0001 C CNN
F 3 "" H 4350 1750 50  0000 C CNN
	1    4350 1750
	0    1    1    0   
$EndComp
$Comp
L PWR_FLAG #FLG08
U 1 1 5748EC4E
P 1750 1600
F 0 "#FLG08" H 1750 1695 50  0001 C CNN
F 1 "PWR_FLAG" H 1750 1780 50  0000 C CNN
F 2 "" H 1750 1600 50  0000 C CNN
F 3 "" H 1750 1600 50  0000 C CNN
	1    1750 1600
	-1   0    0    1   
$EndComp
Wire Wire Line
	6600 1850 6750 1850
Wire Wire Line
	6600 1650 6750 1650
Wire Wire Line
	6750 2050 6650 2050
Wire Wire Line
	6650 2050 6650 1650
Connection ~ 6650 1650
Wire Wire Line
	7900 2350 7900 2500
Wire Wire Line
	8300 2100 8300 2150
Wire Wire Line
	7750 2050 7900 2050
Wire Wire Line
	8300 1800 8300 1650
Wire Wire Line
	7750 1650 8450 1650
Connection ~ 8300 1650
$Comp
L Teensy31_32 U2
U 1 1 57494E9C
P 4400 3900
F 0 "U2" H 4900 4700 60  0000 C CNN
F 1 "Teensy31_32" H 4400 4000 60  0000 C CNN
F 2 "NorBotKiCadFootprints:Teensy-3.1_3.2" H 4250 3800 60  0001 C CNN
F 3 "" H 4250 3800 60  0000 C CNN
	1    4400 3900
	1    0    0    -1  
$EndComp
Text GLabel 3450 3400 0    60   Input ~ 0
BLUETOOTH_TX
Wire Wire Line
	3450 3400 3650 3400
$Comp
L +3.3V #PWR09
U 1 1 5749883E
P 10200 4250
F 0 "#PWR09" H 10200 4100 50  0001 C CNN
F 1 "+3.3V" H 10200 4390 50  0000 C CNN
F 2 "" H 10200 4250 50  0000 C CNN
F 3 "" H 10200 4250 50  0000 C CNN
	1    10200 4250
	0    1    1    0   
$EndComp
Text GLabel 6500 4100 2    60   Input ~ 0
TEENSY_SDA
Text GLabel 6500 4000 2    60   Input ~ 0
TEENSY_SCL
Text GLabel 3450 3500 0    60   Input ~ 0
BLUETOOTH_RX
Wire Wire Line
	3450 3500 3650 3500
Wire Wire Line
	5200 4000 6500 4000
Wire Wire Line
	5200 4100 6500 4100
$Comp
L +3.3V #PWR010
U 1 1 574A315F
P 1200 6800
F 0 "#PWR010" H 1200 6650 50  0001 C CNN
F 1 "+3.3V" H 1200 6940 50  0000 C CNN
F 2 "" H 1200 6800 50  0000 C CNN
F 3 "" H 1200 6800 50  0000 C CNN
	1    1200 6800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR011
U 1 1 574A31B2
P 1200 7300
F 0 "#PWR011" H 1200 7050 50  0001 C CNN
F 1 "GND" H 1200 7150 50  0000 C CNN
F 2 "" H 1200 7300 50  0000 C CNN
F 3 "" H 1200 7300 50  0000 C CNN
	1    1200 7300
	1    0    0    -1  
$EndComp
Text GLabel 1200 7000 0    60   Input ~ 0
TEENSY_SDA
Text GLabel 1200 7150 0    60   Input ~ 0
TEENSY_SCL
Wire Wire Line
	1450 6850 1200 6850
Wire Wire Line
	1200 6850 1200 6800
Wire Wire Line
	1200 7000 1450 7000
Wire Wire Line
	1450 7150 1200 7150
Wire Wire Line
	1200 7300 1450 7300
$Comp
L R R3
U 1 1 574A4A89
P 6250 4300
F 0 "R3" V 6330 4300 50  0000 C CNN
F 1 "2k2" V 6250 4300 50  0000 C CNN
F 2 "Resistors_SMD:R_0805" V 6180 4300 50  0001 C CNN
F 3 "" H 6250 4300 50  0000 C CNN
	1    6250 4300
	1    0    0    -1  
$EndComp
$Comp
L R R2
U 1 1 574A4B07
P 6250 3800
F 0 "R2" V 6330 3800 50  0000 C CNN
F 1 "2k2" V 6250 3800 50  0000 C CNN
F 2 "Resistors_SMD:R_0805" V 6180 3800 50  0001 C CNN
F 3 "" H 6250 3800 50  0000 C CNN
	1    6250 3800
	1    0    0    -1  
$EndComp
Wire Wire Line
	6250 4100 6250 4150
Connection ~ 6250 4100
Wire Wire Line
	6250 4000 6250 3950
Connection ~ 6250 4000
$Comp
L +3.3V #PWR012
U 1 1 574A5FE1
P 6500 3650
F 0 "#PWR012" H 6500 3500 50  0001 C CNN
F 1 "+3.3V" H 6500 3790 50  0000 C CNN
F 2 "" H 6500 3650 50  0000 C CNN
F 3 "" H 6500 3650 50  0000 C CNN
	1    6500 3650
	0    1    1    0   
$EndComp
$Comp
L +3.3V #PWR013
U 1 1 574A603A
P 6500 4450
F 0 "#PWR013" H 6500 4300 50  0001 C CNN
F 1 "+3.3V" H 6500 4590 50  0000 C CNN
F 2 "" H 6500 4450 50  0000 C CNN
F 3 "" H 6500 4450 50  0000 C CNN
	1    6500 4450
	0    1    1    0   
$EndComp
Wire Wire Line
	6250 3650 6500 3650
Wire Wire Line
	6500 4450 6250 4450
$Comp
L +5V #PWR014
U 1 1 574A6589
P 5400 3300
F 0 "#PWR014" H 5400 3150 50  0001 C CNN
F 1 "+5V" H 5400 3440 50  0000 C CNN
F 2 "" H 5400 3300 50  0000 C CNN
F 3 "" H 5400 3300 50  0000 C CNN
	1    5400 3300
	1    0    0    -1  
$EndComp
Wire Wire Line
	5200 3300 5400 3300
$Comp
L GND #PWR015
U 1 1 574A7366
P 5400 3400
F 0 "#PWR015" H 5400 3150 50  0001 C CNN
F 1 "GND" H 5400 3250 50  0000 C CNN
F 2 "" H 5400 3400 50  0000 C CNN
F 3 "" H 5400 3400 50  0000 C CNN
	1    5400 3400
	0    -1   -1   0   
$EndComp
Wire Wire Line
	5400 3400 5200 3400
NoConn ~ 5200 3500
$Comp
L GND #PWR016
U 1 1 574A7B0A
P 4450 4950
F 0 "#PWR016" H 4450 4700 50  0001 C CNN
F 1 "GND" H 4450 4800 50  0000 C CNN
F 2 "" H 4450 4950 50  0000 C CNN
F 3 "" H 4450 4950 50  0000 C CNN
	1    4450 4950
	1    0    0    -1  
$EndComp
Wire Wire Line
	4450 4950 4450 4850
NoConn ~ 4250 4850
NoConn ~ 4350 4850
NoConn ~ 4550 4850
NoConn ~ 4650 4850
NoConn ~ 4250 2950
NoConn ~ 4350 2950
NoConn ~ 4450 2950
NoConn ~ 4550 2950
$Comp
L GND #PWR017
U 1 1 574A8971
P 3450 3300
F 0 "#PWR017" H 3450 3050 50  0001 C CNN
F 1 "GND" H 3450 3150 50  0000 C CNN
F 2 "" H 3450 3300 50  0000 C CNN
F 3 "" H 3450 3300 50  0000 C CNN
	1    3450 3300
	0    1    1    0   
$EndComp
Wire Wire Line
	3650 3300 3450 3300
$Comp
L LED D1
U 1 1 574AB5F1
P 9600 1250
F 0 "D1" H 9600 1350 50  0000 C CNN
F 1 "GREEN" H 9600 1150 50  0000 C CNN
F 2 "LEDs:LED_0805" H 9600 1250 50  0001 C CNN
F 3 "" H 9600 1250 50  0000 C CNN
	1    9600 1250
	0    -1   -1   0   
$EndComp
$Comp
L LED D3
U 1 1 574AB9EC
P 10850 2050
F 0 "D3" H 10850 2150 50  0000 C CNN
F 1 "RED" H 10850 1950 50  0000 C CNN
F 2 "LEDs:LED_0805" H 10850 2050 50  0001 C CNN
F 3 "" H 10850 2050 50  0000 C CNN
	1    10850 2050
	0    -1   -1   0   
$EndComp
$Comp
L R R5
U 1 1 574ABA6E
P 10100 1300
F 0 "R5" V 10180 1300 50  0000 C CNN
F 1 "100" V 10100 1300 50  0000 C CNN
F 2 "Resistors_SMD:R_0805" V 10030 1300 50  0001 C CNN
F 3 "" H 10100 1300 50  0000 C CNN
	1    10100 1300
	1    0    0    -1  
$EndComp
$Comp
L Q_NPN_BCE Q1
U 1 1 574ABB1B
P 10000 1850
F 0 "Q1" H 10300 1900 50  0000 R CNN
F 1 "MMBT3904" H 10500 1600 50  0000 R CNN
F 2 "TO_SOT_Packages_SMD:SOT-23" H 10200 1950 50  0001 C CNN
F 3 "" H 10000 1850 50  0000 C CNN
	1    10000 1850
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR018
U 1 1 574ABBB6
P 10100 2400
F 0 "#PWR018" H 10100 2150 50  0001 C CNN
F 1 "GND" H 10100 2250 50  0000 C CNN
F 2 "" H 10100 2400 50  0000 C CNN
F 3 "" H 10100 2400 50  0000 C CNN
	1    10100 2400
	1    0    0    -1  
$EndComp
$Comp
L R R7
U 1 1 574ABF5F
P 10600 1600
F 0 "R7" V 10680 1600 50  0000 C CNN
F 1 "50" V 10600 1600 50  0000 C CNN
F 2 "Resistors_SMD:R_0805" V 10530 1600 50  0001 C CNN
F 3 "" H 10600 1600 50  0000 C CNN
	1    10600 1600
	0    1    1    0   
$EndComp
$Comp
L GND #PWR019
U 1 1 574ABFEE
P 10850 2400
F 0 "#PWR019" H 10850 2150 50  0001 C CNN
F 1 "GND" H 10850 2250 50  0000 C CNN
F 2 "" H 10850 2400 50  0000 C CNN
F 3 "" H 10850 2400 50  0000 C CNN
	1    10850 2400
	1    0    0    -1  
$EndComp
$Comp
L R R4
U 1 1 574AC4CF
P 9600 1700
F 0 "R4" V 9680 1700 50  0000 C CNN
F 1 "40" V 9600 1700 50  0000 C CNN
F 2 "Resistors_SMD:R_0805" V 9530 1700 50  0001 C CNN
F 3 "" H 9600 1700 50  0000 C CNN
	1    9600 1700
	-1   0    0    1   
$EndComp
Text Notes 9550 750  0    60   ~ 0
Toggle LEDs with one GPIO\nNPN is a MMB3904, SOT-23.
$Comp
L +5V #PWR020
U 1 1 574AD75F
P 10100 1050
F 0 "#PWR020" H 10100 900 50  0001 C CNN
F 1 "+5V" H 10100 1190 50  0000 C CNN
F 2 "" H 10100 1050 50  0000 C CNN
F 3 "" H 10100 1050 50  0000 C CNN
	1    10100 1050
	1    0    0    -1  
$EndComp
Wire Wire Line
	10100 1050 10100 1150
Wire Wire Line
	10100 1450 10100 1650
Wire Wire Line
	10450 1600 10100 1600
Connection ~ 10100 1600
Wire Wire Line
	10750 1600 10850 1600
Wire Wire Line
	10850 1600 10850 1850
Wire Wire Line
	10850 2250 10850 2400
Wire Wire Line
	10100 2400 10100 2050
Wire Wire Line
	9800 1850 9600 1850
Wire Wire Line
	9600 1550 9600 1450
Text GLabel 9600 950  0    60   Input ~ 0
TOGGLE_LED
Wire Wire Line
	9600 1050 9600 950 
Text GLabel 3450 3600 0    60   Input ~ 0
TOGGLE_LED
$Comp
L +3.3V #PWR021
U 1 1 574CA1FE
P 3700 6750
F 0 "#PWR021" H 3700 6600 50  0001 C CNN
F 1 "+3.3V" H 3700 6890 50  0000 C CNN
F 2 "" H 3700 6750 50  0000 C CNN
F 3 "" H 3700 6750 50  0000 C CNN
	1    3700 6750
	1    0    0    -1  
$EndComp
Wire Wire Line
	4050 6850 3700 6850
Wire Wire Line
	3700 6850 3700 6750
$Comp
L GND #PWR022
U 1 1 574CA30A
P 5750 7550
F 0 "#PWR022" H 5750 7300 50  0001 C CNN
F 1 "GND" H 5750 7400 50  0000 C CNN
F 2 "" H 5750 7550 50  0000 C CNN
F 3 "" H 5750 7550 50  0000 C CNN
	1    5750 7550
	1    0    0    -1  
$EndComp
Wire Wire Line
	5350 7450 5750 7450
Wire Wire Line
	5750 7450 5750 7550
Text GLabel 3850 7300 0    60   Input ~ 0
IMU_INT
Text GLabel 3850 7450 0    60   Input ~ 0
IMU_FSYNC
Text GLabel 3850 7000 0    60   Input ~ 0
TEENSY_SDA
Text GLabel 3850 7150 0    60   Input ~ 0
TEENSY_SCL
Wire Wire Line
	3850 7000 4050 7000
Wire Wire Line
	3850 7150 4050 7150
Text GLabel 5400 3700 2    60   Input ~ 0
IMU_INT
Text GLabel 5400 3600 2    60   Input ~ 0
IMU_FSYNC
Wire Wire Line
	5400 3600 5200 3600
Wire Wire Line
	5200 3700 5400 3700
Wire Wire Line
	3850 7300 4050 7300
Wire Wire Line
	4050 7450 3850 7450
Text GLabel 5500 6850 2    60   Input ~ 0
IMU_DRDY
Wire Wire Line
	5350 6850 5500 6850
Text GLabel 5400 3800 2    60   Input ~ 0
IMU_DRDY
Wire Wire Line
	5400 3800 5200 3800
$Comp
L CONN_01X03 P1
U 1 1 574AE353
P 950 1450
F 0 "P1" H 950 1650 50  0000 C CNN
F 1 "MOTOR" V 1050 1450 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x03" H 950 1450 50  0001 C CNN
F 3 "" H 950 1450 50  0000 C CNN
	1    950  1450
	-1   0    0    -1  
$EndComp
$Comp
L CONN_01X03 P2
U 1 1 574B6658
P 1150 3300
F 0 "P2" H 1150 3500 50  0000 C CNN
F 1 "SERVO" V 1250 3300 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x03" H 1150 3300 50  0001 C CNN
F 3 "" H 1150 3300 50  0000 C CNN
	1    1150 3300
	-1   0    0    -1  
$EndComp
$Comp
L +5V #PWR023
U 1 1 574B9848
P 1850 3300
F 0 "#PWR023" H 1850 3150 50  0001 C CNN
F 1 "+5V" H 1850 3440 50  0000 C CNN
F 2 "" H 1850 3300 50  0000 C CNN
F 3 "" H 1850 3300 50  0000 C CNN
	1    1850 3300
	0    1    1    0   
$EndComp
$Comp
L GND #PWR024
U 1 1 574BA043
P 1850 1550
F 0 "#PWR024" H 1850 1300 50  0001 C CNN
F 1 "GND" H 1850 1400 50  0000 C CNN
F 2 "" H 1850 1550 50  0000 C CNN
F 3 "" H 1850 1550 50  0000 C CNN
	1    1850 1550
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR025
U 1 1 574BA687
P 1400 3400
F 0 "#PWR025" H 1400 3150 50  0001 C CNN
F 1 "GND" H 1400 3250 50  0000 C CNN
F 2 "" H 1400 3400 50  0000 C CNN
F 3 "" H 1400 3400 50  0000 C CNN
	1    1400 3400
	0    -1   -1   0   
$EndComp
Text GLabel 1250 1350 2    60   Input ~ 0
MOTOR
Text GLabel 1400 3200 2    60   Input ~ 0
STEERING
$Comp
L CONN_01X03 P3
U 1 1 574BC3C3
P 1150 4200
F 0 "P3" H 1150 4400 50  0000 C CNN
F 1 "START" V 1250 4200 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x03" H 1150 4200 50  0001 C CNN
F 3 "" H 1150 4200 50  0000 C CNN
	1    1150 4200
	-1   0    0    -1  
$EndComp
Text GLabel 1450 4100 2    60   Input ~ 0
START
$Comp
L GND #PWR026
U 1 1 574BC667
P 1450 4300
F 0 "#PWR026" H 1450 4050 50  0001 C CNN
F 1 "GND" H 1450 4150 50  0000 C CNN
F 2 "" H 1450 4300 50  0000 C CNN
F 3 "" H 1450 4300 50  0000 C CNN
	1    1450 4300
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1150 1350 1250 1350
Wire Wire Line
	1150 1550 1850 1550
Wire Wire Line
	1400 3200 1350 3200
Wire Wire Line
	1350 3300 1850 3300
Wire Wire Line
	1400 3400 1350 3400
Wire Wire Line
	1350 4100 1450 4100
Wire Wire Line
	1450 4200 1350 4200
Wire Wire Line
	1350 4300 1450 4300
Text GLabel 3450 3700 0    60   Input ~ 0
MOTOR
Text GLabel 3450 3800 0    60   Input ~ 0
STEERING
Text GLabel 3450 3900 0    60   Input ~ 0
START
Wire Wire Line
	3450 3700 3650 3700
Wire Wire Line
	3650 3800 3450 3800
Wire Wire Line
	3450 3900 3650 3900
Text GLabel 8350 3650 0    60   Input ~ 0
BLUETOOTH_TX
Text GLabel 8350 3850 0    60   Input ~ 0
BLUETOOTH_RX
Text Notes 750  1050 0    60   ~ 0
Motor is a Hobbyking XC-10A ESC (Product ID: 913000001)\nIt has a 5V regulator onboard which supplies the PCB with power.\n3 pin connector is thus a power-input, but also used for PWM controlling motor.
Text Notes 700  3000 0    60   ~ 0
Steering is a SG-90 microservo
Text Notes 750  3900 0    60   ~ 0
Start is from Startmodule.com.\nNB, use female header.\nCan be power-cycled from Teensy
$Comp
L +BATT #PWR027
U 1 1 574CD430
P 2000 1450
F 0 "#PWR027" H 2000 1300 50  0001 C CNN
F 1 "+BATT" H 2000 1590 50  0000 C CNN
F 2 "" H 2000 1450 50  0000 C CNN
F 3 "" H 2000 1450 50  0000 C CNN
	1    2000 1450
	0    1    1    0   
$EndComp
$Comp
L INA219 U1
U 1 1 574D7173
P 4350 2250
F 0 "U1" H 4350 1900 60  0000 C CNN
F 1 "INA219" H 4350 2350 60  0000 C CNN
F 2 "Housings_SOIC:SOIC-8_3.9x4.9mm_Pitch1.27mm" H 4350 2250 60  0001 C CNN
F 3 "" H 4350 2250 60  0000 C CNN
	1    4350 2250
	1    0    0    -1  
$EndComp
Wire Wire Line
	3150 2000 3800 2000
Wire Wire Line
	3700 1750 4200 1750
Wire Wire Line
	4500 1750 5050 1750
Wire Wire Line
	5050 1750 5050 2000
Wire Wire Line
	4900 2000 5200 2000
Connection ~ 5050 2000
Wire Wire Line
	5050 2300 4900 2300
Wire Wire Line
	4900 2400 5050 2400
Connection ~ 3700 2000
Wire Wire Line
	3700 2100 3800 2100
Wire Wire Line
	3700 1750 3700 2100
Wire Wire Line
	3700 2250 3700 2550
Wire Wire Line
	3300 2450 3800 2450
Wire Wire Line
	3800 2350 3700 2350
Connection ~ 3700 2450
Wire Wire Line
	3800 2250 3700 2250
Connection ~ 3700 2350
Text GLabel 1450 4200 2    60   Input ~ 0
START_POWER
Text GLabel 3450 4000 0    60   Input ~ 0
START_POWER
Wire Wire Line
	3650 4000 3450 4000
$Comp
L SW_PUSH SW1
U 1 1 574EC170
P 1650 2450
F 0 "SW1" H 1800 2560 50  0000 C CNN
F 1 "BTN1" H 1650 2370 50  0000 C CNN
F 2 "Buttons_Switches_SMD:SW_SPST_SKQG" H 1650 2450 50  0001 C CNN
F 3 "" H 1650 2450 50  0000 C CNN
	1    1650 2450
	1    0    0    -1  
$EndComp
Text GLabel 3450 4100 0    60   Input ~ 0
BUTTON
Wire Wire Line
	3650 4100 3450 4100
Text GLabel 1200 2450 0    60   Input ~ 0
BUTTON
Text Notes 800  2250 0    60   ~ 0
General purpose switch.\nGoogle 'Teensy Input with Pullup' for code.
$Comp
L GND #PWR028
U 1 1 574EDE4F
P 2200 2450
F 0 "#PWR028" H 2200 2200 50  0001 C CNN
F 1 "GND" H 2200 2300 50  0000 C CNN
F 2 "" H 2200 2450 50  0000 C CNN
F 3 "" H 2200 2450 50  0000 C CNN
	1    2200 2450
	1    0    0    -1  
$EndComp
Wire Wire Line
	2200 2450 1950 2450
Wire Wire Line
	1350 2450 1200 2450
Wire Wire Line
	3300 2100 3300 2000
Connection ~ 3300 2000
Wire Wire Line
	3300 2400 3300 2450
Wire Wire Line
	1150 1450 2000 1450
$Comp
L PWR_FLAG #FLG029
U 1 1 574F994A
P 1750 1400
F 0 "#FLG029" H 1750 1495 50  0001 C CNN
F 1 "PWR_FLAG" H 1750 1580 50  0000 C CNN
F 2 "" H 1750 1400 50  0000 C CNN
F 3 "" H 1750 1400 50  0000 C CNN
	1    1750 1400
	1    0    0    -1  
$EndComp
Wire Wire Line
	1750 1600 1750 1550
Connection ~ 1750 1550
Wire Wire Line
	1750 1450 1750 1400
Connection ~ 1750 1450
$Comp
L CONN_01X03 P5
U 1 1 574FF703
P 1750 5900
F 0 "P5" H 1750 6100 50  0000 C CNN
F 1 "RGB" V 1850 5900 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x03" H 1750 5900 50  0001 C CNN
F 3 "" H 1750 5900 50  0000 C CNN
	1    1750 5900
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR030
U 1 1 57500A36
P 1450 5700
F 0 "#PWR030" H 1450 5550 50  0001 C CNN
F 1 "+5V" H 1450 5840 50  0000 C CNN
F 2 "" H 1450 5700 50  0000 C CNN
F 3 "" H 1450 5700 50  0000 C CNN
	1    1450 5700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR031
U 1 1 575021B1
P 1450 6100
F 0 "#PWR031" H 1450 5850 50  0001 C CNN
F 1 "GND" H 1450 5950 50  0000 C CNN
F 2 "" H 1450 6100 50  0000 C CNN
F 3 "" H 1450 6100 50  0000 C CNN
	1    1450 6100
	1    0    0    -1  
$EndComp
Text GLabel 3450 4600 0    60   Input ~ 0
RGB_STRIP
Wire Wire Line
	3650 4600 3450 4600
Text GLabel 1400 5900 0    60   Input ~ 0
RGB_STRIP
Wire Wire Line
	1550 5800 1450 5800
Wire Wire Line
	1450 5800 1450 5700
Wire Wire Line
	1550 6000 1450 6000
Wire Wire Line
	1450 6000 1450 6100
Wire Wire Line
	1400 5900 1550 5900
$Comp
L GND #PWR032
U 1 1 575085F2
P 8300 2150
F 0 "#PWR032" H 8300 1900 50  0001 C CNN
F 1 "GND" H 8300 2000 50  0000 C CNN
F 2 "" H 8300 2150 50  0000 C CNN
F 3 "" H 8300 2150 50  0000 C CNN
	1    8300 2150
	1    0    0    -1  
$EndComp
Text Notes 850  5500 0    60   ~ 0
WS2812 LED strip\nNB, each LED can draw up to 60mA
$Comp
L HM-11 U4
U 1 1 5750CA98
P 9150 3950
F 0 "U4" H 9150 3500 60  0000 C CNN
F 1 "HM-11" H 9150 4500 60  0000 C CNN
F 2 "NorBotKiCadFootprints:HM-11" H 9050 3950 60  0001 C CNN
F 3 "" H 9050 3950 60  0000 C CNN
	1    9150 3950
	1    0    0    -1  
$EndComp
Wire Wire Line
	9850 4250 10200 4250
Wire Wire Line
	9850 4050 10050 4050
Wire Wire Line
	10050 4050 10050 4250
Connection ~ 10050 4250
Wire Wire Line
	8450 3650 8350 3650
Wire Wire Line
	8350 3850 8450 3850
$Comp
L LED D2
U 1 1 5750EEAC
P 10200 3650
F 0 "D2" H 10200 3750 50  0000 C CNN
F 1 "ACT" H 10200 3550 50  0000 C CNN
F 2 "LEDs:LED_0805" H 10200 3650 50  0001 C CNN
F 3 "" H 10200 3650 50  0000 C CNN
	1    10200 3650
	-1   0    0    1   
$EndComp
$Comp
L R R6
U 1 1 5750EF63
P 10600 3800
F 0 "R6" V 10680 3800 50  0000 C CNN
F 1 "220" V 10600 3800 50  0000 C CNN
F 2 "Resistors_SMD:R_0805" V 10530 3800 50  0001 C CNN
F 3 "" H 10600 3800 50  0000 C CNN
	1    10600 3800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR033
U 1 1 5750F00C
P 10600 4050
F 0 "#PWR033" H 10600 3800 50  0001 C CNN
F 1 "GND" H 10600 3900 50  0000 C CNN
F 2 "" H 10600 4050 50  0000 C CNN
F 3 "" H 10600 4050 50  0000 C CNN
	1    10600 4050
	1    0    0    -1  
$EndComp
Wire Wire Line
	9850 3650 10000 3650
Wire Wire Line
	10400 3650 10600 3650
Wire Wire Line
	10600 3950 10600 4050
$Comp
L GND #PWR034
U 1 1 5750FE12
P 10100 3950
F 0 "#PWR034" H 10100 3700 50  0001 C CNN
F 1 "GND" H 10100 3800 50  0000 C CNN
F 2 "" H 10100 3950 50  0000 C CNN
F 3 "" H 10100 3950 50  0000 C CNN
	1    10100 3950
	0    -1   -1   0   
$EndComp
Wire Wire Line
	10100 3950 9850 3950
NoConn ~ 8450 3550
NoConn ~ 8450 3750
NoConn ~ 9850 3550
NoConn ~ 9850 3750
NoConn ~ 9850 3850
Text Notes 7850 3300 0    60   ~ 0
Bluetooth, HM-11\nVCC: 2.5 - 3.7\nPull Reset-pin to ground for 5ms to reset.\n\nhttp://www.seeedstudio.com/wiki/Bluetooth_V4.0_HM-11_BLE_Module\nhttp://lightlogproject.org/blog/tag/hm-11/
$Comp
L CONN_01X03 P4
U 1 1 5751849A
P 1150 4950
F 0 "P4" H 1150 5150 50  0000 C CNN
F 1 "PWM" V 1250 4950 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x03" H 1150 4950 50  0001 C CNN
F 3 "" H 1150 4950 50  0000 C CNN
	1    1150 4950
	-1   0    0    -1  
$EndComp
Text Notes 750  4650 0    60   ~ 0
General purpose PWM connector
$Comp
L +5V #PWR035
U 1 1 5751904F
P 1800 4950
F 0 "#PWR035" H 1800 4800 50  0001 C CNN
F 1 "+5V" H 1800 5090 50  0000 C CNN
F 2 "" H 1800 4950 50  0000 C CNN
F 3 "" H 1800 4950 50  0000 C CNN
	1    1800 4950
	0    1    1    0   
$EndComp
Text GLabel 1500 4850 2    60   Input ~ 0
PWM
$Comp
L GND #PWR036
U 1 1 575193CA
P 1500 5050
F 0 "#PWR036" H 1500 4800 50  0001 C CNN
F 1 "GND" H 1500 4900 50  0000 C CNN
F 2 "" H 1500 5050 50  0000 C CNN
F 3 "" H 1500 5050 50  0000 C CNN
	1    1500 5050
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1350 5050 1500 5050
Wire Wire Line
	1350 4950 1800 4950
Wire Wire Line
	1500 4850 1350 4850
Text GLabel 5400 4300 2    60   Input ~ 0
PWM
NoConn ~ 5200 3900
NoConn ~ 5200 4400
NoConn ~ 5200 4500
NoConn ~ 5200 4600
$Comp
L ESP8266_ESP-12 U17
U 1 1 57522634
P 9150 5600
F 0 "U17" H 9450 4700 60  0000 C CNN
F 1 "ESP8266_ESP-12" H 9150 6250 60  0000 C CNN
F 2 "NorBotKiCadFootprints:ESP8266_ESP_12E" H 9250 5600 60  0001 C CNN
F 3 "" H 9250 5600 60  0000 C CNN
	1    9150 5600
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR037
U 1 1 57522C75
P 10500 6300
F 0 "#PWR037" H 10500 6050 50  0001 C CNN
F 1 "GND" H 10500 6150 50  0000 C CNN
F 2 "" H 10500 6300 50  0000 C CNN
F 3 "" H 10500 6300 50  0000 C CNN
	1    10500 6300
	0    -1   -1   0   
$EndComp
Wire Wire Line
	10500 6300 9850 6300
$Comp
L +3.3V #PWR038
U 1 1 5752370C
P 7850 5150
F 0 "#PWR038" H 7850 5000 50  0001 C CNN
F 1 "+3.3V" H 7850 5290 50  0000 C CNN
F 2 "" H 7850 5150 50  0000 C CNN
F 3 "" H 7850 5150 50  0000 C CNN
	1    7850 5150
	1    0    0    -1  
$EndComp
Wire Wire Line
	7450 5150 8500 5150
$Comp
L R R27
U 1 1 57524968
P 8250 5250
F 0 "R27" V 8330 5250 50  0000 C CNN
F 1 "3k3" V 8250 5250 50  0000 C CNN
F 2 "Resistors_SMD:R_0805" V 8180 5250 50  0001 C CNN
F 3 "" H 8250 5250 50  0000 C CNN
	1    8250 5250
	0    1    1    0   
$EndComp
Wire Wire Line
	5200 4300 5400 4300
Text GLabel 3450 4400 0    60   Input ~ 0
WIFI_RX
Text GLabel 3450 4300 0    60   Input ~ 0
WIFI_TX
Text GLabel 8300 6150 0    60   Input ~ 0
WIFI_TX
Text GLabel 8300 6250 0    60   Input ~ 0
WIFI_RX
Wire Wire Line
	3650 4300 3450 4300
Wire Wire Line
	3450 4400 3650 4400
Wire Wire Line
	8300 6150 8500 6150
Wire Wire Line
	8500 6250 8300 6250
Wire Wire Line
	8500 5250 8400 5250
Wire Wire Line
	8100 5250 7850 5250
$Comp
L C C9
U 1 1 5752B944
P 7450 5300
F 0 "C9" H 7475 5400 50  0000 L CNN
F 1 "100nF" H 7475 5200 50  0000 L CNN
F 2 "Capacitors_SMD:C_0805" H 7488 5150 50  0001 C CNN
F 3 "" H 7450 5300 50  0000 C CNN
	1    7450 5300
	1    0    0    -1  
$EndComp
Connection ~ 7850 5150
$Comp
L GND #PWR039
U 1 1 5752C2D5
P 7450 5550
F 0 "#PWR039" H 7450 5300 50  0001 C CNN
F 1 "GND" H 7450 5400 50  0000 C CNN
F 2 "" H 7450 5550 50  0000 C CNN
F 3 "" H 7450 5550 50  0000 C CNN
	1    7450 5550
	1    0    0    -1  
$EndComp
Wire Wire Line
	7450 5450 7450 5550
$Comp
L R R30
U 1 1 5752D873
P 10150 6050
F 0 "R30" V 10230 6050 50  0000 C CNN
F 1 "3k3" V 10150 6050 50  0000 C CNN
F 2 "Resistors_SMD:R_0805" V 10080 6050 50  0001 C CNN
F 3 "" H 10150 6050 50  0000 C CNN
	1    10150 6050
	0    1    1    0   
$EndComp
Wire Wire Line
	9850 6050 10000 6050
Wire Wire Line
	10300 6050 10400 6050
Wire Wire Line
	10400 6050 10400 6300
Connection ~ 10400 6300
$Comp
L R R28
U 1 1 5752E80E
P 10150 5150
F 0 "R28" V 10050 5150 50  0000 C CNN
F 1 "3k3" V 10150 5150 50  0000 C CNN
F 2 "Resistors_SMD:R_0805" V 10080 5150 50  0001 C CNN
F 3 "" H 10150 5150 50  0000 C CNN
	1    10150 5150
	0    1    1    0   
$EndComp
$Comp
L +3.3V #PWR040
U 1 1 57531ECC
P 10500 5150
F 0 "#PWR040" H 10500 5000 50  0001 C CNN
F 1 "+3.3V" H 10500 5290 50  0000 C CNN
F 2 "" H 10500 5150 50  0000 C CNN
F 3 "" H 10500 5150 50  0000 C CNN
	1    10500 5150
	1    0    0    -1  
$EndComp
Wire Wire Line
	9850 5150 10000 5150
Wire Wire Line
	10300 5150 10500 5150
$Comp
L R R29
U 1 1 57533D4B
P 10150 5250
F 0 "R29" V 10230 5250 50  0000 C CNN
F 1 "3k3" V 10150 5250 50  0000 C CNN
F 2 "Resistors_SMD:R_0805" V 10080 5250 50  0001 C CNN
F 3 "" H 10150 5250 50  0000 C CNN
	1    10150 5250
	0    1    1    0   
$EndComp
Wire Wire Line
	9850 5250 10000 5250
Wire Wire Line
	10300 5250 10500 5250
Wire Wire Line
	10500 5250 10500 5150
Wire Wire Line
	7850 5250 7850 5150
Text GLabel 8400 5450 0    60   Input ~ 0
WIFI_ENABLE
Wire Wire Line
	8500 5450 8400 5450
Text GLabel 3450 4200 0    60   Input ~ 0
WIFI_ENABLE
Wire Wire Line
	3650 4200 3450 4200
NoConn ~ 8500 5350
NoConn ~ 8500 5650
NoConn ~ 8500 5750
NoConn ~ 8500 5850
NoConn ~ 8500 5950
NoConn ~ 9850 6150
NoConn ~ 9850 5950
NoConn ~ 9850 5850
NoConn ~ 9850 5750
NoConn ~ 9850 5650
NoConn ~ 9850 5550
NoConn ~ 9850 5450
NoConn ~ 9850 5350
$Comp
L Transmissive_Photo_Interrupter U16
U 1 1 5752AB1B
P 4650 6050
F 0 "U16" H 4750 5650 60  0000 C CNN
F 1 "Transmissive_Photo_Interrupter" H 4800 6700 60  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x04" H 4650 6050 60  0001 C CNN
F 3 "" H 4650 6050 60  0000 C CNN
	1    4650 6050
	1    0    0    -1  
$EndComp
$Comp
L R R25
U 1 1 57538790
P 3650 5650
F 0 "R25" V 3730 5650 50  0000 C CNN
F 1 "270" V 3650 5650 50  0000 C CNN
F 2 "Resistors_SMD:R_0805" V 3580 5650 50  0001 C CNN
F 3 "" H 3650 5650 50  0000 C CNN
	1    3650 5650
	0    1    1    0   
$EndComp
$Comp
L +5V #PWR041
U 1 1 5753908A
P 3350 5650
F 0 "#PWR041" H 3350 5500 50  0001 C CNN
F 1 "+5V" H 3350 5790 50  0000 C CNN
F 2 "" H 3350 5650 50  0000 C CNN
F 3 "" H 3350 5650 50  0000 C CNN
	1    3350 5650
	1    0    0    -1  
$EndComp
$Comp
L R R26
U 1 1 57539547
P 5900 6150
F 0 "R26" V 5980 6150 50  0000 C CNN
F 1 "10k" V 5900 6150 50  0000 C CNN
F 2 "Resistors_SMD:R_0805" V 5830 6150 50  0001 C CNN
F 3 "" H 5900 6150 50  0000 C CNN
	1    5900 6150
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3900 5650 3800 5650
Wire Wire Line
	3500 5650 3350 5650
$Comp
L GND #PWR042
U 1 1 5753AB3C
P 3750 6200
F 0 "#PWR042" H 3750 5950 50  0001 C CNN
F 1 "GND" H 3750 6050 50  0000 C CNN
F 2 "" H 3750 6200 50  0000 C CNN
F 3 "" H 3750 6200 50  0000 C CNN
	1    3750 6200
	1    0    0    -1  
$EndComp
Wire Wire Line
	3900 6200 3750 6200
$Comp
L GND #PWR043
U 1 1 5753C9AD
P 5700 5600
F 0 "#PWR043" H 5700 5350 50  0001 C CNN
F 1 "GND" H 5700 5450 50  0000 C CNN
F 2 "" H 5700 5600 50  0000 C CNN
F 3 "" H 5700 5600 50  0000 C CNN
	1    5700 5600
	1    0    0    -1  
$EndComp
Wire Wire Line
	5550 5600 5700 5600
Text GLabel 5400 4200 2    60   Input ~ 0
ENCODER
Wire Wire Line
	5400 4200 5200 4200
Text GLabel 5700 6350 2    60   Input ~ 0
ENCODER
Wire Wire Line
	5750 6150 5550 6150
Wire Wire Line
	5700 6350 5650 6350
Wire Wire Line
	5650 6350 5650 6150
Connection ~ 5650 6150
$Comp
L +5V #PWR044
U 1 1 57541E3C
P 6200 6150
F 0 "#PWR044" H 6200 6000 50  0001 C CNN
F 1 "+5V" H 6200 6290 50  0000 C CNN
F 2 "" H 6200 6150 50  0000 C CNN
F 3 "" H 6200 6150 50  0000 C CNN
	1    6200 6150
	1    0    0    -1  
$EndComp
Wire Wire Line
	6200 6150 6050 6150
Text Notes 4100 5350 0    60   ~ 0
KTIR0611S\nUsed to detect rotations of main drive shaft
Text Notes 8750 4850 0    60   ~ 0
Wireless Network. Can be enabled/disabled.
Wire Wire Line
	3650 3600 3450 3600
NoConn ~ 3650 4500
$EndSCHEMATC
